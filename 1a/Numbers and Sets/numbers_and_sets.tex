\documentclass{article}

\def\npart {IA}
\def\nterm {Michaelmas}
\def\nyear {2023}
\def\nlecturer {Prof J.\ Wolf}
\def\ncourse {Numbers and Sets}

\input{../../header.tex}

\begin{document}
\maketitle{
    \small
    \noindent\textbf{Introduction to number systems and logic}\\
    Overview of the natural numbers, integers, real numbers, rational and irrational numbers, algebraic and transcendental numbers. Brief discussion of complex numbers; statement of the Fundamental Theorem of Algebra.

    \vspace{5pt}
    \noindent Ideas of axiomatic systems and proof within mathematics; the need for proof; the role of counter-examples in mathematics. Elementary logic; implication and negation; examples of negation of compound statements. Proof by contradiction.\hspace*{\fill}[2]
  
    \vspace{10pt}
    \noindent\textbf{Sets, relations and functions}\\
    Union, intersection and equality of sets. Indicator (characteristic) functions; their use in establishing set identities. Functions; injections, surjections and bijections. Relations, and equivalence relations. Counting the combinations or permutations of a set. The Inclusion-Exclusion Principle.\hspace*{\fill}[4]
  
    \vspace{10pt}
    \noindent\textbf{The integers}\\
    The natural numbers: mathematical induction and the well-ordering principle. Examples, including the Binomial Theorem.\hspace*{\fill}[2]
  
    \vspace{10pt}
    \noindent\textbf{Elementary number theory}\\
    Prime numbers: existence and uniqueness of prime factorisation into primes; highest common factors and least common multiples. Euclid's proof of the infinity of primes. Euclid's algorithm. Solution in integers of $ax+by = c$.
  
    \vspace{5pt}
    \noindent Modular arithmetic (congruences). Units modulo $n$. Chinese Remainder Theorem. Wilson's Theorem; the Fermat-Euler Theorem. Public key cryptography and the RSA algorithm.\hspace*{\fill}[8]
  
    \vspace{10pt}
    \noindent\textbf{The real numbers}\\
    Least upper bounds; simple examples. Least upper bound axiom. Sequences and series; convergence of bounded monotonic sequences. Irrationality of $\sqrt{2}$ and $e$. Decimal expansions. Construction of a transcendental number.\hspace*{\fill} [4]
  
    \vspace{10pt}
    \noindent\textbf{Countability and uncountability}\\
    Definitions of finite, infinite, countable and uncountable sets. A countable union of countable sets is countable. Uncountability of $\R$. Non-existence of a bijection from a set to its power set. Indirect proof of existence of transcendental numbers.\hspace*{\fill}[4]}

\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 1: 5/10/2023
%%%%%%%%%%%%%%%%%%%%%%

\section{Proofs and Logic}
\subsection{Proofs}

We begin by getting a handle on proofs and how we prove things.

\begin{defi}[Proof]
    A \emph{proof} is a sequence of true statements that follow without logical gaps, establishing some conclusion.
\end{defi}

Note that this definition is still not entirely fleshed out. We have yet to clarify what we mean by \emph{true statements} as well as what constitutes a logical \emph{conclusion}. Furthermore, it is worth while considering why we need to prove things. For the most part, a proof will show definitively that something is true i.e; that a certain property holds for all the integers and not just for the cases that we've manually checked. Constructing proofs may also give us insight into why things are true and in such cases we may find them beautiful.

\begin{eg}
    Let's consider some truth statements that we can try to prove.
    \begin{enumerate}
        \item There exists infinitely many primes $p$ such that $2p + 1$ is also a prime
        \item There exists infinitely many primes $p$ such that one of $p+2, p+4, \cdots, p+246$ is also prime
        \item For all positive integers $n$ there exists a prime $p$ such that $n < p < 2n$
        \item There is no computer algorithm which will factor an $n$ digit integer in at most $n^3$ steps
        \item Every non-constant polynomial with complex coefficients has a root in the complex numbers
        \item For all integers, $m$ and $n$, $m * n = n * m$
        \item 1 + 1 = 2
    \end{enumerate}
    Remarks and interesting things about the statemenets above
    \begin{enumerate}
        \item It is unkown is this is true. Primes of this type as known as Sophie Germain Primes
        \item This was proved in 2014, and has to do with the twin prime conjecture.
        \item Not obvious but true
        \item Would be bad if false, as modern day RSA encryption relies on the truth of this statement
        \item This is known as the Fundamental Theorem of Algebra
        \item Worth thinking about. 
        \item Does this need proving?
    \end{enumerate}
\end{eg}
\subsection{Examples of proofs}

A proof has to do more than simply being correct. A proof must also be able to convince the reader of its correctness. An interesting note by my DOS, Dr Loewe (I'm paraphrasing): 
\begin{quote}
    Even though proofs appear to be purely logical, they are in fact highly context dependant -- A proof given to a first year student will look very different to the same proof if given to a third year student. When we grow in doing mathematics our ability to make larger and larger logical leaps increases, drastically changing what we need to show to prove a fact to our peers. The catch is, of course, that we are prepared to produce every step accurately when asked \ldots
\end{quote}

Hence it is important to get a sense of proofs and non-proofs. Here are some examples
\begin{assert}
    For all positive integers $n$, $n^3 - n$ is a multiple of $3$.
\end{assert}

\begin{proof}
    Let's observe that we can factor the expression. \\[10pt]
    $n^3 - n = n(n^2 - 1) = n(n-1)(n+1) = (n-1)n(n+1)$ \\[10pt]
    Since, one of $n-1$, $n$ or $n+1$ must be a multiple of $3$, so is their product
\end{proof}

\begin{assert}
    For all positive integers $n$, If $n^2$ is even, then so is $n$.
\end{assert}

\begin{proof}
    Given a positive integer $n$ which is even, we can write $n = 2k$, for some positive integer $k$. Hence $n^2 = (2k)^2 = 2 \cdot (2k^2)$ which is even
\end{proof}

This is not a proof! We wanted to show that ``if ($n^2$ is even) then ($n$ is even)''. However, the proof instead showed that ``if ($n$ is even) then ($n^2$ is even)'', which is not the same thing (we got it backwards!). Before we get back to this statement let's do one more example.

\begin{assert}
    For all positive integers $n$, if $n^2$ is a multiple of $9$ then so is $n$.
\end{assert}

An important step not to miss when evaluating assertions is to consider a few small cases to see if the statement is obviously wrong. We can see that this assertion is false. We can take $n = 3$ as a counter-example. From this we note that in order to show that ``if $A$ then $B$'' is false, it is enough to show that there is one instance where $A$ is true and $B$ is false. For this particular case, we can see that this statement is wrong for all even multiples of $3$.

Let's revist the earlier assertion that if $n^2$ is even, $n$ is even.

\begin{proof}
    Suppose on the contrary that $n^2$ is even, but $n$ is not.\\
    Then $n = 2k+1$ for some positive integer $k$.\\
    Then $n^2 = (2k +1)^2 = 4k^2 + 4k + 1 = 4(k^2 + k) + 1$, which is odd.\\
    This contradicts the assumption that $n^2$ is even. \contradiction
\end{proof}

This is our first example of a proof by \emph{contradiction}. (We will use this \contradiction symbol to indicate that contradiction has been reached). Similarly to the previous example, in order to show that ``if $A$ then $B$'' is true, we shoed that there is no case where $A$ is true and $B$ is false.

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 2: 7/10/2023
%%%%%%%%%%%%%%%%%%%%%%

\begin{assert}
    The solution to $x^2 - 5x + 6 = 0$ is $x = 2$ or $x = 3$.
\end{assert}

We note that these are in fact 2 different assertions:
\begin{enumerate}
    \item $x = 2$ and $x = 3$ are solutions
    \item There are no other solutions
\end{enumerate}

We can go about the proof in two parts
\begin{proof}\leavevmode
    \begin{enumerate}
        \item if $x = 2$ or $x = 3$, then $x - 2 = 0$ or $x - 3 = 0$\\
        so, $(x - 2)(x - 3) = 0$\\
        so, $x^2 - 5x + 6 = 0$ 
        \item if $x^2 - 5x + 6 = 0$, then $(x - 2)(x - 3) = 0$\\
        so*, $x - 2 = 0$ or $x - 3 = 0$\\
        so, $x = 2$ or $x = 3$
    \end{enumerate}

    Alternatively, we can notice that the second argument is the first argument reversed. We can write this in a more concise manner using the ``if and only if'' $\Leftrightarrow$ symbol. When we use this symbol we need to make sure that both the forward and reverse implications hold (which we had just done).
    \begin{align*}
        x = 2 \ \text{or} \ x = 3&\Leftrightarrow x - 2 = 0 \ \text{or} \ x - 3 = 0\\
        &\Leftrightarrow (x - 2)(x - 3) = 0\\
        &\Leftrightarrow x^2 - 5x + 6 = 0
    \end{align*}
\end{proof}

Note that in the proof, there was a logical step (*), where we used the fact that if two numbers multiply to $0$, then at least one of the numbers are equal to $0$. Although this works for the real numbers, this is not neccesarily true in other number systems.

\begin{assert}
    Every positive real number is $\geq 1$
\end{assert}

\begin{proof}
    Let $r$ be the least positive real number. Then either $r = 1$, $r < 1$ or $r > 1$.
    \begin{enumerate}[cases]
        \item if $r < 1$, then $0 < r^2 < r$, which contradicts the premise \contradiction
        \item if $r > 1$, then $0 < \sqrt{r} < r$, which contradicts the premise \contradiction
    \end{enumerate}
    Therefore, as there is only one case remaining $r = 1$.
\end{proof}

This is obviously false. The problem lies in the initial claim that $r$ was a least positive real number -- such a thing can not exist! This shows us that we need to justify \underline{all} of our claims, being careful that to not sneak claims in.

\subsection{Logic}

Now that we have come across some examples of truth statements, we can consider the different ways in which we can combine them. Let $A$ and $B$ be assertions / truth statements / boolean variables. We can write:
\begin{center}
    \begin{tabular}{ c c c }
        $A \wedge B$ & for & $A$ and $B$ \\
        $A \vee B$ & for & $A$ or $B$ \\
        $\neg A$ & for & not $A$
    \end{tabular}
\end{center}
The truth of each of these combined assertions depends on $A$ and $B$. These can be summarised into a truth table:
\begin{center}
    \begin{tabular}{ c|c|c|c|c }
    $A$ \quad $B$ & $A \wedge B$ & $A \vee B$ & $\neg A$ & $A \Rightarrow B$ \\
    \midrule
    F \quad F & F & F & T & T \\
    F \quad T & F & T & T & T \\
    T \quad F & F & T & F & F \\
    T \quad T & T & T & F & T \\
    \end{tabular}
\end{center}

We can note that for the truth table of $A \Rightarrow B$, the assertion is only false if we are able to show that there is a case where $A$ is true and $B$ is false; otherwise the implication still holds. 

It is also worth being careful when negating brackets. For example,
\[
    \neg (A \wedge B) \Leftrightarrow (\neg A \vee \neg B)
\]
Note that when we negate an ``OR'' it becomes ``AND''. We can check this fact in the truth table. An interesting way to do this is to think of negating both the $A$ and $B$ columns in the table as an inversion of the $A \vee B$ column.

By observation we can also see that
\[
    (A \Rightarrow B) \Leftrightarrow (\neg A \vee B)
\]
This we can check as well in a similar fashion, now swapping the top and bottom two rows of the $A \vee B$ column. An interesting manipulation we can do is that
\[
    (\neg A \vee B) \Leftrightarrow (B \vee \neg A) \Leftrightarrow (\neg B \Rightarrow \neg A)
\]
Since order is not important for an ``OR'' clause. This is known as the contrapositive.

As seen in the examples, we also have quantifiers -- mainly $\forall$ to mean ``for all'' and $\exists$ to mean ``there exists''. We observer what happens when we negate quantifiers.

For a given sock $x$ is my drawer, let $A(x)$ denote that $x$ is red, and $B(x)$ denote that $x$ is blue. Then, consider the negation of the follow two statements
\begin{enumerate}
    \item $\neg (\forall x A(x))$
    \item $\neg (\exists x B(x))$
\end{enumerate}

These two statements read; (i) all my socks are red, (ii) there exists a blue sock. When negating these statements, we get; (i) there exists a sock that is not red, (ii) all socks are not blue. These can be written symbolically:
\begin{enumerate}
    \item $\exists x \neg A(x)$
    \item $\forall x \neg B(x)$
\end{enumerate}

\section{Elementary Number Theory}
\subsection{Natural numbers}

The natural numbers $\N$ consist of (for this course we will exclude 0):
\[
    1, 1+1, 1+1+1, 1+1+1+1, \cdots 
\]
We should think deeply about their construction. What can we assume about these numbers and what can we prove? Two questions were raised. How do we know that we have captured all of them? How do we know that they are all distinct? These questions are non-obvious and lead us to come up with axioms from which we can start to prove statements.

\begin{defi}[Natural Numbers]
    The natural numbers, written $\N$ is a set containing a special element $1$ with an operation $+1$ which satisfies the following properties
    \begin{enumerate}
        \item $\forall n \in \N \quad n+1 \neq 1$
        \item $\forall m, n \in \N \quad  m \neq n \Rightarrow m + 1 \neq n + 1$
        \item for any property $p(n)$, if $p(n)$ is true, and $\forall n \in \N \quad p(n) \Rightarrow p(n + 1)$, then $p(n)$ is true $\forall n \in \N$
    \end{enumerate}
\end{defi}

These are known as the \emph{Peano Axioms} (although a quick google search shows that thats not entirely true \ldots). The first two axioms (i) and (ii) capture the idea that any 2 natural numbers are distinct. The third axiom is unsurprisingly known as the induction axiom. It helps formalise the idea that the list of natural numbers is complete. For instance, take $p(n) = $ ``$n$ is on the list''. Since we know that $p(1)$ is true (by definition), $p(1)$ implies $p(1 + 1)$ by the first axiom (i).

With these axioms, we can now start to create labels; $2$ for $1 + 1$, $3$ for $1 + 1 + 1$, etc. We can then define a $+k$ operation for any natural number $k$.

\begin{defi}[$+k$]
    For every natural number $n$, we define an operation $+k$ as follows:
    \[
        n + (k + 1) = (n + k) + 1
    \]
    We then define the property $p(k) = $ ``$+k$ is defined''. Then by the induction axiom, we have defined $+k$ for all natural numbers $k$.
\end{defi}

To get a better sense for how the induction axiom works let's work through a few examples. We have by defintion $+1$. Let's construct $+2$. By the definition above, using $k = 1$
\[
    n + (1 + 1) = (n + 1) + 1 \Rightarrow n + 2 = (n + 1) + 1
\]

Note that we define $+2$ using only what we know about $+1$ by using the stated definition. Similarly, to construct $+3$ we use $k = 2$
\[
    n + (2 + 1) = (n + 2) + 1 \Rightarrow n + 3 = (n + 2) + 1
\]

We can now apply the induction axiom. We have demonstrated that the definition for an operation $+k$ implies the operation $+(k + 1)$.
\[
    p(k) \Rightarrow p(k + 1)
\]
Hence we may apply the induction axiom to define $+k$ for all the natural numbers inductively.

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 3: 10/10/2023
%%%%%%%%%%%%%%%%%%%%%%

Similarly, we can define multiplication, exponentiation, etc. Being careful to check that the ``usual'' rules of arithmetic apply. These are:
\begin{enumerate}[label=(\arabic*)]
    \item $\forall a, b \in \N, \quad a + b = b + a$ \hspace*{\fill}($+$ is commutative)
    \item $\forall a, b \in \N, \quad ab = ba$ \hspace*{\fill}($\cdot$ is commutative)
    \item $\forall a, b, c \in \N, \quad a + (b + c) = (a + b) + c$ \hspace*{\fill}($+$ is associative)
    \item $\forall a, b, c \in \N, \quad a(bc) = (ab)c$ \hspace*{\fill}($\cdot$ is associative)
    \item $\forall a, b, c \in \N, \quad a(b + c) = ab + ac$ \hspace*{\fill}($\cdot$ is distributive over $+$)
\end{enumerate}

We may also define an ordering on the natural numbers
\begin{defi}
    \[
        a < b \Leftrightarrow \exists c \in \N \ \text{s.t.} \ a + c = b  
    \]
\end{defi}
We may further check that
\begin{enumerate}[resume, label=(\arabic*)]
    \item $\forall a, b, c \in \N, \quad a < b \Leftarrow a + c < b + c$
    \item $\forall a, b, c \in \N, \quad a < b \Leftarrow ac < bc$
    \item $\forall a, b, c \in \N, \quad a < b \wedge b < c \Leftarrow c < c$ \hspace*{\fill}(transitivity)
    \item $\forall a \in \N, \quad \neg(a < a)$
\end{enumerate}

\subsection{Strong Principle of Induction}
Recall from the third peano axiom, the induction axiom that states that.
\begin{quote}
    if $p(1)$ is true and $p(n) \Rightarrow p(n+1)$, then $p(n)$ is true for all natrual numbers $n$.
\end{quote}
This is also know as the weak principle of induction (WPI).

A more useful form is known as the strong principle of induction (SPI).

\begin{defi}[Strong Principle of Induction]
    if the following holds:
    \begin{enumerate}
        \item $P(1)$ is true
        \item $\forall n \in \N$, we have $(p(m) \forall m \leq n) \Rightarrow p(n + 1)$
    \end{enumerate}
    then $p(n)$ holds $\forall n \in \N$
\end{defi}

In fact, it can be shown that the two principles are equivalent!
\begin{prop}[SPI $\Leftrightarrow$ WPI]
    The equivalence of the two principles can be stated as:
    \begin{enumerate}
        \item Any $p(n)$ that is true due to WPI, can also be proven to be true using SPI.
        \item Any $p(n)$ that is true due to SPI, can also be proven to be true using WPI.
    \end{enumerate}
\end{prop}

\begin{proof}\leavevmode
    In general, if we have two methods of proof $A$ and $B$ which can used to prove some statement $s$, $A \Rightarrow B$ statement that $s$ can be proved using $A$ given the conditions of $B$. 
    \begin{enumerate}
        \item (SPI $\Rightarrow$ WPI) Assume the conditions of WPI: 
            \begin{enumerate}
                \item $p(1)$ is true
                \item $\forall n \in \N, \quad p(n) \Rightarrow p(n+1)$
            \end{enumerate}
            Consider some $p(n)$, for $n \geq 1$. From the condition of WPI, we have that,
            \[
                p(1) \Rightarrow p(2), \quad p(2) \Rightarrow p(3), \quad \ldots, \quad p(n-1) \Rightarrow p(n)  
            \]
            Since $p(1)$ is true, we have that
            \[ 
                \bigwedge_{\forall m \leq n}{p(m)} \quad \text{is true.}
            \]
            Therefore,
            \[
                (p(m) \forall m \leq n) \Rightarrow p(n + 1)
            \]
            is a trivially true implication and $p(n)$ is true by SPI.
        \item (WPI $\Rightarrow$ SPI) Assume the conditions of SPI:
            \begin{enumerate}
                \item $p(1)$ is true
                \item $\forall n \in \N, \quad (p(m) \forall m \leq n) \Rightarrow p(n + 1)$
            \end{enumerate}
            Consider the statement $Q(n) = $ ``$p(m)$ holds $\forall m \leq n$''. Therefore, using the second assumption of SPI,
            \[
                Q(n) = (p(m) \forall m \leq n) \Rightarrow p(n + 1) = (p(m) \forall m \leq n+1) = Q(n + 1)
            \]
            Therefore, by WPI, $Q(n)$ is true $\forall n \in \N$, and further $p(n)$ is true $\forall n \in \N$.
    \end{enumerate}
\end{proof}

\begin{defi}[Well-Ordering Principle]
    If $p(n)$ holds for some $n \in \N$, then there is a least $n$ such that $p(n)$ holds. An alternative statement is 
    \begin{quote}
        Every non-empty subset of $\N$ has a minimal element
    \end{quote}
    To see that this is the case define the set to be the set of elements where $p(n)$ is true.
\end{defi}

\begin{nthm}[SPI is equivalent to WOP]
\end{nthm}

\begin{proof}\leavevmode
    \begin{enumerate}
        \item (WOP $\Rightarrow$ SPI). Assuming the conditions (i) and (ii) from SPI, we will show that $p(n)$ holds $\forall n \in \N$ using WOP.
        Suppose on the contrary, that $p(n)$ is not true $\forall n \in \N$. Then we consider the set
        \[
            c = \{n \in \N \mid p(n) \ \text{is false}\}
        \]
        Note that since $p(n)$ is not true $\forall n \in \N$ that means that there exists at least one element in $c$ and therefore $c \neq \varnothing$. By WOP, $c$ must have a minimal element $m$. By the minimality of $m$
        \[
            \forall  k < m, \quad k \notin c  
        \]
        Therefore, $p(k)$ holds $\forall k \leq m$. However, by condition (ii) of SPI, $p(m)$ is true. This contradicts $m \in C$. \contradiction
        Hence, $p(n)$ must be true $\forall n \in \N$.
        \item (SPI $\Rightarrow$ WOP). We will proceed by proving the contrapositive ($\neg \text{WOP} \Rightarrow \text{SPI}$).
        Suppose there is no least natural number $n \in \N$ such that $p(n)$ holds, we will aim to show that $p(n)$ is false $\forall n \in \N$ using SPI. Consider
        \[
            Q(n) = \neg p(n)  
        \]
        By assuming that there is no least natural number where $p(n)$ is true, that indicates that $p(1)$ is false and by definition $Q(1)$ is true. Given $n \in N$ suppose that $Q(k)$ is true $\forall k < n$.
        Then $p(k)$ is false $\forall k < n$, and therefore $p(n)$ is false, as otherwise $n$ would be the minimal element (which we assumed cannot exist).
        Hence, $Q(n)$ is true, and by (ii) of SPI, $Q(n)$ is true $\forall n \in \N$.
        Therefore, $p(n)$ is false $\forall n \in \N$.
    \end{enumerate}
\end{proof}

\begin{remark}
    For any proof that we can attempt using induction, we may alternatively use WOP in the following way; we will prove that $p(n)$ is true $\forall n \in N$ by contradiction. Suppose it was not true $\forall n \in \N$. Then, there must be a minimal counter example. By looking at this counter example carefuly try to derive a contradiction.
\end{remark}

\subsection{The Integers}
\begin{defi}
    The integers, written $\Z$, consists of all symbols $n$, $-n$, where $n$ is in the natural numbers, along with $0$.
\end{defi}
We can define the operations $+$ and $\cdot$ on $\Z$ from $\N$. We may check that the usual rules (1) - (5) of arithmetic hold. Furthermore, since we have the inclusion of $0$,
\begin{enumerate}[start=10, label=(\arabic*)]
    \item $\forall a, b \in \Z, \quad a + 0 = a$ \hspace*{\fill}(identity)
    \item $\forall a \in \Z, \exists b \in \Z, \quad a + b = 0$ \hspace*{\fill}(inverse)
\end{enumerate}
Note that these two properties indicate that $\Z$ forms a group under addition. We may also define a similar ordering
\begin{defi}
    $\forall a, b \in \Z, \quad a < b$ if $a + c = b$ for some $c \in \N$
\end{defi}
Note that we specified that $c$ is a natural number. We continue does the list of rules and remark that (6), (8) and (9) continue to hold. However, we need to modify (7)
\begin{enumerate}
    \item[($\text{7}^{\prime}$)]  $\forall a, b, c \in \Z, \quad (a < b) \wedge (c > 0) \Rightarrow ac < bc$
\end{enumerate}
With these we say that addition is \emph{closed}. That is, performing addition over the integers always results in another element within the integers. This is not the same for multiplication as we do not yet always have inverses.

\subsection{The Rationals}
\begin{defi}
    The rationals, written $\Q$ consist of all expression $\frac{a}{b}$ where $a, b \in \Z$ and $b \neq 0$.
\end{defi}

Note that in the sense of rationals that we are used to, we need to encode that the number $\frac{a}{b}$ does not depend on the \emph{representation} that we have chosen. Therefore we will define
\[
    \frac{a}{b} = \frac{c}{d} \Leftrightarrow ad = bc
\]

\begin{defi}
    \[
        \frac{a}{b} + \frac{c}{d} = \frac{ad + bc}{bd}
    \]
\end{defi}

Before we proceed we will check that this does not depend on the representation that we have chosen.
\begin{proof}
    Consider two rational numbers that are equal. That is, 
    \[
        \frac{a}{b} \ \text{and} \ \frac{a'}{b'} \quad \text{such that} \ ab' = a'b
    \]
    Then we have that, 
    \begin{align*}
        \frac{a}{b} + \frac{c}{d} &= \frac{ad + bc}{bd} \\
        \frac{a'}{b'} + \frac{c}{d} &= \frac{a'd + b'c}{b'd}
    \end{align*}
    We need addition over the rationals to be independent of representation. Therefore, these two sums need to be equal. We can check that
    \begin{align*}
        &\frac{ad + bc}{bd} = \frac{a'd + b'c}{b'd} \\
        \Leftrightarrow& \ b'd(ad + bc) = bd(a'd + b'c) \\
        \Leftrightarrow& \ b'ad^2 + b'dbc = ba'd^2 + bdb'c \\
        \Leftrightarrow& \ b'ad^2 = ba'd^2 \\
        \Leftrightarrow& \ b'a = ba' \tag{since $d \neq 0$}
    \end{align*}
    Which is true by definition of $a'$ and $b'$
\end{proof}

Similarly, we can define for multiplication
\begin{defi}
    \[
        \frac{a}{b}\frac{c}{d} = \frac{ac}{bd}
    \]
\end{defi}
\begin{proof}
    We will reuse the same two equal fractions as with the previous proof. Then we have that, 
    \begin{align*}
        \frac{a}{b}\frac{c}{d} &= \frac{ac}{bd} \\
        \frac{a'}{b'}\frac{c}{d} &= \frac{a'c}{b'd}
    \end{align*}
    For these two to be equal
    \begin{align*}
        &\frac{ac}{bd} = \frac{a'c}{b'd} \\
        \Leftrightarrow& \ b'd(ac) = bd(a'c) \\
        \Leftrightarrow& \ b'ac = ba'c \tag{since $d \neq 0$} \\
    \end{align*}
    If we restrict this to cases where $c \neq 0$
    \[
        \Leftrightarrow b'a = ba'
    \]
    as required. In the case when $c = 0$ this is identical to multiplying by $0$ and all rationals will be mapped to $0$.
\end{proof}

Similarly, we can define an ordering
\begin{defi}
    \[
        \frac{a}{b} < \frac{c}{d} \Rightarrow ad < bc  \ \text{where} \ b, d > 0
    \]
\end{defi}

Now that we have a larger number system we have a new property
\begin{enumerate}[start=12, label=(\arabic*)]
    \item $\forall a, b \in \Q,\ a \neq 0 \ \exists b \quad \text{s.t.} \ ab = 1$ \hspace*{\fill}(multiplicative inverse)
\end{enumerate}
This turns the rationals into a group under multiplication.

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 4: 12/10/2023
%%%%%%%%%%%%%%%%%%%%%%

\begin{remark}
    From our construction of the number sets, we can see that
    \[
        \N \subset \Z \subset \Q
    \]
    But notice that the first relationship between $\N$ and $\Z$ comes as a given, while the relationship between $\Z$ and $\Q$ requires an extra step. That being that we assing to each integer number $a$ the rational number $\frac{a}{1}$.
\end{remark}

\subsection{Primes}
\begin{defi}[Divides]
    Given integers $a$ and $b$, we say that ``$a$ divides $b$'' if $\exists c \in \Z$ such that 
    \[
        b = ac  
    \]
    We may also say that ``$a$ is a divisor of $b$'' or ``$a$ is a factor of $b$'' or ``$b$ is a multiple of $a$'', or write
    \[
        a \mid b  
    \]
 \end{defi}

 \begin{defi}[Proper factors]
    For all $b \in \Z$, $\pm 1 \mid b$ and $\pm b \mid b$ and are always factors. All other factors are called propper factors.
 \end{defi}

\begin{defi}[Primes]
    A natural number $n \geq 2$ is a prime if its only factors are $\pm 1$ and $\pm n$. If $n \geq 2$ is not prime, then we call it \emph{composite}.
\end{defi}

\begin{nprop}\label{prop:2-2}
    Every natural number $n \geq 2$ can be written as a product of primes.
\end{nprop}

\begin{proof}
    We will proceed by strong induction on $n$. The statement is true for $n=2$. Let $n > 2$, and suppose the claim holds up to and including $n-1$.
    \begin{enumerate}[cases]
        \item If $n$ is prime, we are done
        \item If $n$ is composite, then, $n = ab$ for some $1 < a, b < n$
    \end{enumerate}
    Therefore, by the induction hypothesis, both $a$ and $b$ can be written as a product of primes
    \begin{align*}
        a &= p_1p_2 \ldots p_k \\
        b &= q1q2 \ldots q_l
    \end{align*}
    for primes $p_i$ and $q_j$.

    Hence, $n$ can be written as a product of primes
\end{proof}

\begin{nthm}
    There are infinitely many primes
\end{nthm}
\begin{proof}
    Suppose there are in fact only finitely many primes, say
    \[
        p_1, p_2, \ldots, p_k  
    \]
    Form the number $N = p_1p_2\ldots p_k + 1$. Then $p1 \nmid N$. Otherwise,
    \[
        p_1 \mid N - p_1p_2 \ldots p_k = 1
    \]
    which is a contradiction. \contradiction

    Likewise, none of $p_i$ divides $N$, contradicting the fact that $N$ can be written as a product of primes (by proposition \ref{prop:2-2}). \contradiction
\end{proof}

Can a number have more than one representation as a product of primes? proposition \ref{prop:2-2} does not give us uniqueness. However, from experience it is what we expect.

\begin{nprop}
    If $p$ is a prime and $p \mid ab$ then $p \mid a$ or $p \mid b$ or both.
\end{nprop}

Before we use this to prove the uniqueness of prime factorisation, we will go through some other definitions.

\begin{defi}[Highest Common Factor (HCF) \ (GCD)]
    Given $a, b \in \N$, $c \in \N$ is the highest common factor (hcf) or greatest common divisor (gcd) of $a$ and $b$ if
    \begin{enumerate}
        \item $c \mid a \wedge c \mid b$
        \item $(d \mid a \wedge d \mid b) \Rightarrow d \mid c$ 
    \end{enumerate}
    In plain english, (i) states that the highest common factor is a common divisor, and (ii) states that every common divisor of $a$ and $b$ divides $c$. We write
    \[
        c = \gcd{(a, b)} = (a, b)    
    \]
    where GCD stands for greatest common divisor.
\end{defi}

\begin{eg}
    Take $12$ and $18$, we list their factors
    \begin{align*}
        12 &: 1, 2, 3, 4, 6, 12 \\
        18 &: 1, 2, 3, 6, 9, 18
    \end{align*}
    Therefore the set of common divisors is
    \[
        \{1, 2, 3, 6\}  
    \]
    By (ii) we find the factor that every factor divides. 
    \[
        \gcd{(12, 18)} = 6  
    \]
\end{eg}

\begin{remark}
    Observe that it is not obvious that all divisors would divide at least one divisor. For instance if the set of common divisors was instead
    \[
        \{1, 2, 3, 4, 6\}  
    \] 
    there would be no element that can satisfy (ii) of the definition. Therefore, we will need to prove that the HCF always exists.
\end{remark}

\begin{nprop}[Division Algorithm]
    Let $n, k \in \N$. Then we can write 
    \[
        n = qk + r \quad \text{where} \ q, r \in \Z  
    \]
    and $0 \leq r \leq k - 1$
\end{nprop}

\begin{proof}
    We will proceed by induction on $n$. It is true for $n = 1$. Suppose for $n \geq 2$ and $n - 1$
    \[
        n-1 = qk + r \quad \text{for} \ k, r \in \Z    
    \]
    and $0 \leq r \leq k-1 $
    \begin{enumerate}[cases]
        \item If $r < k - 1 \Rightarrow n = qk + (r + 1)$
        \item If $r = k -1 \Rightarrow n = qk + k = (q+1)k$
    \end{enumerate}

    Therefore, by induction $p(n-1) \Rightarrow p(n)$ and it is true $\forall n \in \N$.
\end{proof}

\begin{remark}
    Note that $q$ and $r$ obtained are unique. Notice that if
    \[
        n = qk + r = q'k + r' \Rightarrow (q - q')k = r' - r
    \]
    where $-k < r - r' < k$ and since $0 \leq r < k$. Therefore,
    \[
        q = q' \quad \text{and} \quad r = r'  
    \]
\end{remark}

\begin{defi}[Euclids Algorithm]

\end{defi}

\begin{center}
    \begin{tabular}{c | c c | c c }
        Input & $ \qquad a \qquad$ & $\qquad b \qquad$ & $a=372$ & $b=162$ \\
        \midrule
        Step 1 & \multicolumn{2}{c |}{$a = q_1b + r_1, \quad 0 < r_1 < b$} & \multicolumn{2}{c}{$372 = 2\cdot162 + 48$}\\
        Step 2 & \multicolumn{2}{c |}{$b = q_2r_1 + r_2, \quad 0 < r_2 < r_1$} & \multicolumn{2}{c}{$162 = 3\cdot48 + 18$}\\
        Step 3 & \multicolumn{2}{c |}{$r_1 = q_3r_2 + r_3, \quad 0 < r_3 < r_2$} & \multicolumn{2}{c}{$48 = 2\cdot18 + 12$}\\
        & \multicolumn{2}{c |}{$\vdots$} & \multicolumn{2}{c}{$18 = 1\cdot12 + 6$}\\\
        Step $n$ & \multicolumn{2}{c |}{$r_{n-2} = q_{n}r_{n-1} + r_{n}, \quad 0 < r_{n} < r_{n-1}$} & \multicolumn{2}{c}{$12 = 2\cdot6$}\\
        \midrule
        Output & \multicolumn{2}{c |}{$r_n$} & \multicolumn{2}{c}{$6$}\\
    \end{tabular}
\end{center}
The algorithm terminates when
\[
    n + 1 \mid r_{n-1}
\]
Note that this will happen in at most $b$ steps. In each step, the remainder is strictly reduced. Since,
\[
    b > r_1 > r_2 > \ldots > r_n > 0
\]

\begin{nthm}
    The output of Euclids Algorithm with input $(a, b)$ is the $\gcd{(a, b)}$
\end{nthm}

\end{document}