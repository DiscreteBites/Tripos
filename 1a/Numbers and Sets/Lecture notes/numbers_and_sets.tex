\documentclass{article}

\def\npart {IA}
\def\nterm {Michaelmas}
\def\nyear {2023}
\def\nlecturer {Prof J.\ Wolf}
\def\ncourse {Numbers and Sets}

\setcounter{tocdepth}{2}

\input{../../../header.tex}

\begin{document}
\maketitle{
    \small
    \noindent\textbf{Introduction to number systems and logic}\\
    Overview of the natural numbers, integers, real numbers, rational and irrational numbers, algebraic and transcendental numbers. Brief discussion of complex numbers; statement of the Fundamental Theorem of Algebra.

    \vspace{5pt}
    \noindent Ideas of axiomatic systems and proof within mathematics; the need for proof; the role of counter-examples in mathematics. Elementary logic; implication and negation; examples of negation of compound statements. Proof by contradiction.\hspace*{\fill}[2]
  
    \vspace{10pt}
    \noindent\textbf{Sets, relations and functions}\\
    Union, intersection and equality of sets. Indicator (characteristic) functions; their use in establishing set identities. Functions; injections, surjections and bijections. Relations, and equivalence relations. Counting the combinations or permutations of a set. The Inclusion-Exclusion Principle.\hspace*{\fill}[4]
  
    \vspace{10pt}
    \noindent\textbf{The integers}\\
    The natural numbers: mathematical induction and the well-ordering principle. Examples, including the Binomial Theorem.\hspace*{\fill}[2]
  
    \vspace{10pt}
    \noindent\textbf{Elementary number theory}\\
    Prime numbers: existence and uniqueness of prime factorisation into primes; highest common factors and least common multiples. Euclid's proof of the infinity of primes. Euclid's algorithm. Solution in integers of $ax+by = c$.
  
    \vspace{5pt}
    \noindent Modular arithmetic (congruences). Units modulo $n$. Chinese Remainder Theorem. Wilson's Theorem; the Fermat-Euler Theorem. Public key cryptography and the RSA algorithm.\hspace*{\fill}[8]
  
    \vspace{10pt}
    \noindent\textbf{The real numbers}\\
    Least upper bounds; simple examples. Least upper bound axiom. Sequences and series; convergence of bounded monotonic sequences. Irrationality of $\sqrt{2}$ and $e$. Decimal expansions. Construction of a transcendental number.\hspace*{\fill} [4]
  
    \vspace{10pt}
    \noindent\textbf{Countability and uncountability}\\
    Definitions of finite, infinite, countable and uncountable sets. A countable union of countable sets is countable. Uncountability of $\R$. Non-existence of a bijection from a set to its power set. Indirect proof of existence of transcendental numbers.\hspace*{\fill}[4]}

\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 1: 5/10/2023
%%%%%%%%%%%%%%%%%%%%%%

\section{Proofs and Logic}
\subsection{Proofs}

We begin by getting a handle on proofs and how we prove things.

\begin{defi}[Proof]
    A \emph{proof} is a sequence of true statements that follow without logical gaps, establishing some conclusion.
\end{defi}

Note that this definition is still not entirely fleshed out. We have yet to clarify what we mean by \emph{true statements} as well as what constitutes a logical \emph{conclusion}. Furthermore, it is worth while considering why we need to prove things. For the most part, a proof will show definitively that something is true i.e; that a certain property holds for all the integers and not just for the cases that we've manually checked. Constructing proofs may also give us insight into why things are true and in such cases we may find them beautiful.

\begin{eg}
    Let's consider some truth statements that we can try to prove.
    \begin{enumerate}
        \item There exists infinitely many primes $p$ such that $2p + 1$ is also a prime
        \item There exists infinitely many primes $p$ such that one of $p+2, p+4, \cdots, p+246$ is also prime
        \item For all positive integers $n$ there exists a prime $p$ such that $n < p < 2n$
        \item There is no computer algorithm which will factor an $n$ digit integer in at most $n^3$ steps
        \item Every non-constant polynomial with complex coefficients has a root in the complex numbers
        \item For all integers, $m$ and $n$, $m * n = n * m$
        \item 1 + 1 = 2
    \end{enumerate}
    Remarks and interesting things about the statemenets above
    \begin{enumerate}
        \item It is unkown is this is true. Primes of this type as known as Sophie Germain Primes
        \item This was proved in 2014, and has to do with the twin prime conjecture.
        \item Not obvious but true
        \item Would be bad if false, as modern day RSA encryption relies on the truth of this statement
        \item This is known as the Fundamental Theorem of Algebra
        \item Worth thinking about. 
        \item Does this need proving?
    \end{enumerate}
\end{eg}
\subsection{Examples of proofs}

A proof has to do more than simply being correct. A proof must also be able to convince the reader of its correctness. An interesting note by my DOS, Dr Loewe (I'm paraphrasing): 
\begin{quote}
    Even though proofs appear to be purely logical, they are in fact highly context dependant -- A proof given to a first year student will look very different to the same proof if given to a third year student. When we grow in doing mathematics our ability to make larger and larger logical leaps increases, drastically changing what we need to show to prove a fact to our peers. The catch is, of course, that we are prepared to produce every step accurately when asked \ldots
\end{quote}

Hence it is important to get a sense of proofs and non-proofs. Here are some examples
\begin{assert}
    For all positive integers $n$, $n^3 - n$ is a multiple of $3$.
\end{assert}

\begin{proof}
    Let's observe that we can factor the expression. \\[10pt]
    $n^3 - n = n(n^2 - 1) = n(n-1)(n+1) = (n-1)n(n+1)$ \\[10pt]
    Since, one of $n-1$, $n$ or $n+1$ must be a multiple of $3$, so is their product
\end{proof}

\begin{assert}
    For all positive integers $n$, If $n^2$ is even, then so is $n$.
\end{assert}

\begin{proof}
    Given a positive integer $n$ which is even, we can write $n = 2k$, for some positive integer $k$. Hence $n^2 = (2k)^2 = 2 \cdot (2k^2)$ which is even
\end{proof}

This is not a proof! We wanted to show that ``if ($n^2$ is even) then ($n$ is even)''. However, the proof instead showed that ``if ($n$ is even) then ($n^2$ is even)'', which is not the same thing (we got it backwards!). Before we get back to this statement let's do one more example.

\begin{assert}
    For all positive integers $n$, if $n^2$ is a multiple of $9$ then so is $n$.
\end{assert}

An important step not to miss when evaluating assertions is to consider a few small cases to see if the statement is obviously wrong. We can see that this assertion is false. We can take $n = 3$ as a counter-example. From this we note that in order to show that ``if $A$ then $B$'' is false, it is enough to show that there is one instance where $A$ is true and $B$ is false. For this particular case, we can see that this statement is wrong for all even multiples of $3$.

Let's revist the earlier assertion that if $n^2$ is even, $n$ is even.

\begin{proof}
    Suppose on the contrary that $n^2$ is even, but $n$ is not.\\
    Then $n = 2k+1$ for some positive integer $k$.\\
    Then $n^2 = (2k +1)^2 = 4k^2 + 4k + 1 = 4(k^2 + k) + 1$, which is odd.\\
    This contradicts the assumption that $n^2$ is even. \contradiction
\end{proof}

This is our first example of a proof by \emph{contradiction}. (We will use this \contradiction symbol to indicate that contradiction has been reached). Similarly to the previous example, in order to show that ``if $A$ then $B$'' is true, we shoed that there is no case where $A$ is true and $B$ is false.

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 2: 7/10/2023
%%%%%%%%%%%%%%%%%%%%%%

\begin{assert}
    The solution to $x^2 - 5x + 6 = 0$ is $x = 2$ or $x = 3$.
\end{assert}

We note that these are in fact 2 different assertions:
\begin{enumerate}
    \item $x = 2$ and $x = 3$ are solutions
    \item There are no other solutions
\end{enumerate}

We can go about the proof in two parts
\begin{proof}\leavevmode
    \begin{enumerate}
        \item if $x = 2$ or $x = 3$, then $x - 2 = 0$ or $x - 3 = 0$\\
        so, $(x - 2)(x - 3) = 0$\\
        so, $x^2 - 5x + 6 = 0$ 
        \item if $x^2 - 5x + 6 = 0$, then $(x - 2)(x - 3) = 0$\\
        so*, $x - 2 = 0$ or $x - 3 = 0$\\
        so, $x = 2$ or $x = 3$
    \end{enumerate}

    Alternatively, we can notice that the second argument is the first argument reversed. We can write this in a more concise manner using the ``if and only if'' $\Leftrightarrow$ symbol. When we use this symbol we need to make sure that both the forward and reverse implications hold (which we had just done).
    \begin{align*}
        x = 2 \ \text{or} \ x = 3&\Leftrightarrow x - 2 = 0 \ \text{or} \ x - 3 = 0\\
        &\Leftrightarrow (x - 2)(x - 3) = 0\\
        &\Leftrightarrow x^2 - 5x + 6 = 0
    \end{align*}
\end{proof}

Note that in the proof, there was a logical step (*), where we used the fact that if two numbers multiply to $0$, then at least one of the numbers are equal to $0$. Although this works for the real numbers, this is not neccesarily true in other number systems.

\begin{assert}
    Every positive real number is $\geq 1$
\end{assert}

\begin{proof}
    Let $r$ be the least positive real number. Then either $r = 1$, $r < 1$ or $r > 1$.
    \begin{enumerate}[cases]
        \item if $r < 1$, then $0 < r^2 < r$, which contradicts the premise \contradiction
        \item if $r > 1$, then $0 < \sqrt{r} < r$, which contradicts the premise \contradiction
    \end{enumerate}
    Therefore, as there is only one case remaining $r = 1$.
\end{proof}

This is obviously false. The problem lies in the initial claim that $r$ was a least positive real number -- such a thing can not exist! This shows us that we need to justify \underline{all} of our claims, being careful that to not sneak claims in.

\subsection{Logic}

Now that we have come across some examples of truth statements, we can consider the different ways in which we can combine them. Let $A$ and $B$ be assertions / truth statements / boolean variables. We can write:
\begin{center}
    \begin{tabular}{ c c c }
        $A \wedge B$ & for & $A$ and $B$ \\
        $A \vee B$ & for & $A$ or $B$ \\
        $\neg A$ & for & not $A$
    \end{tabular}
\end{center}
The truth of each of these combined assertions depends on $A$ and $B$. These can be summarised into a truth table:
\begin{center}
    \begin{tabular}{ c|c|c|c|c }
    $A$ \quad $B$ & $A \wedge B$ & $A \vee B$ & $\neg A$ & $A \Rightarrow B$ \\
    \midrule
    F \quad F & F & F & T & T \\
    F \quad T & F & T & T & T \\
    T \quad F & F & T & F & F \\
    T \quad T & T & T & F & T \\
    \end{tabular}
\end{center}

We can note that for the truth table of $A \Rightarrow B$, the assertion is only false if we are able to show that there is a case where $A$ is true and $B$ is false; otherwise the implication still holds. 

It is also worth being careful when negating brackets. For example,
\[
    \neg (A \wedge B) \Leftrightarrow (\neg A \vee \neg B)
\]
Note that when we negate an ``OR'' it becomes ``AND''. We can check this fact in the truth table. An interesting way to do this is to think of negating both the $A$ and $B$ columns in the table as an inversion of the $A \vee B$ column.

By observation we can also see that
\[
    (A \Rightarrow B) \Leftrightarrow (\neg A \vee B)
\]
This we can check as well in a similar fashion, now swapping the top and bottom two rows of the $A \vee B$ column. An interesting manipulation we can do is that
\[
    (\neg A \vee B) \Leftrightarrow (B \vee \neg A) \Leftrightarrow (\neg B \Rightarrow \neg A)
\]
Since order is not important for an ``OR'' clause. This is known as the contrapositive.

As seen in the examples, we also have quantifiers -- mainly $\forall$ to mean ``for all'' and $\exists$ to mean ``there exists''. We observer what happens when we negate quantifiers.

For a given sock $x$ is my drawer, let $A(x)$ denote that $x$ is red, and $B(x)$ denote that $x$ is blue. Then, consider the negation of the follow two statements
\begin{enumerate}
    \item $\neg (\forall x A(x))$
    \item $\neg (\exists x B(x))$
\end{enumerate}

These two statements read; (i) all my socks are red, (ii) there exists a blue sock. When negating these statements, we get; (i) there exists a sock that is not red, (ii) all socks are not blue. These can be written symbolically:
\begin{enumerate}
    \item $\exists x \neg A(x)$
    \item $\forall x \neg B(x)$
\end{enumerate}

\section{Elementary Number Theory}
\subsection{Natural numbers}

The natural numbers $\N$ consist of (for this course we will exclude 0):
\[
    1, 1+1, 1+1+1, 1+1+1+1, \cdots 
\]
We should think deeply about their construction. What can we assume about these numbers and what can we prove? Two questions were raised. How do we know that we have captured all of them? How do we know that they are all distinct? These questions are non-obvious and lead us to come up with axioms from which we can start to prove statements.

\begin{defi}[Natural Numbers]
    The natural numbers, written $\N$ is a set containing a special element $1$ with an operation $+1$ which satisfies the following properties
    \begin{enumerate}
        \item $\forall n \in \N \quad n+1 \neq 1$
        \item $\forall m, n \in \N \quad  m \neq n \Rightarrow m + 1 \neq n + 1$
        \item for any property $p(n)$, if $p(n)$ is true, and $\forall n \in \N \quad p(n) \Rightarrow p(n + 1)$, then $p(n)$ is true $\forall n \in \N$
    \end{enumerate}
\end{defi}

These are known as the \emph{Peano Axioms} (although a quick google search shows that thats not entirely true \ldots). The first two axioms (i) and (ii) capture the idea that any 2 natural numbers are distinct. The third axiom is unsurprisingly known as the induction axiom. It helps formalise the idea that the list of natural numbers is complete. For instance, take $p(n) = $ ``$n$ is on the list''. Since we know that $p(1)$ is true (by definition), $p(1)$ implies $p(1 + 1)$ by the first axiom (i).

With these axioms, we can now start to create labels; $2$ for $1 + 1$, $3$ for $1 + 1 + 1$, etc. We can then define a $+k$ operation for any natural number $k$.

\begin{defi}[$+k$]
    For every natural number $n$, we define an operation $+k$ as follows:
    \[
        n + (k + 1) = (n + k) + 1
    \]
    We then define the property $p(k) = $ ``$+k$ is defined''. Then by the induction axiom, we have defined $+k$ for all natural numbers $k$.
\end{defi}

To get a better sense for how the induction axiom works let's work through a few examples. We have by defintion $+1$. Let's construct $+2$. By the definition above, using $k = 1$
\[
    n + (1 + 1) = (n + 1) + 1 \Rightarrow n + 2 = (n + 1) + 1
\]

Note that we define $+2$ using only what we know about $+1$ by using the stated definition. Similarly, to construct $+3$ we use $k = 2$
\[
    n + (2 + 1) = (n + 2) + 1 \Rightarrow n + 3 = (n + 2) + 1
\]

We can now apply the induction axiom. We have demonstrated that the definition for an operation $+k$ implies the operation $+(k + 1)$.
\[
    p(k) \Rightarrow p(k + 1)
\]
Hence we may apply the induction axiom to define $+k$ for all the natural numbers inductively.

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 3: 10/10/2023
%%%%%%%%%%%%%%%%%%%%%%

Similarly, we can define multiplication, exponentiation, etc. Being careful to check that the ``usual'' rules of arithmetic apply. These are:
\begin{enumerate}[label=(\arabic*)]
    \item $\forall a, b \in \N, \quad a + b = b + a$ \hspace*{\fill}($+$ is commutative)
    \item $\forall a, b \in \N, \quad ab = ba$ \hspace*{\fill}($\cdot$ is commutative)
    \item $\forall a, b, c \in \N, \quad a + (b + c) = (a + b) + c$ \hspace*{\fill}($+$ is associative)
    \item $\forall a, b, c \in \N, \quad a(bc) = (ab)c$ \hspace*{\fill}($\cdot$ is associative)
    \item $\forall a, b, c \in \N, \quad a(b + c) = ab + ac$ \hspace*{\fill}($\cdot$ is distributive over $+$)
\end{enumerate}

We may also define an ordering on the natural numbers
\begin{defi}
    \[
        a < b \Leftrightarrow \exists c \in \N \ \text{s.t.} \ a + c = b  
    \]
\end{defi}
We may further check that
\begin{enumerate}[resume, label=(\arabic*)]
    \item $\forall a, b, c \in \N, \quad a < b \Leftarrow a + c < b + c$
    \item $\forall a, b, c \in \N, \quad a < b \Leftarrow ac < bc$
    \item $\forall a, b, c \in \N, \quad a < b \wedge b < c \Leftarrow c < c$ \hspace*{\fill}(transitivity)
    \item $\forall a \in \N, \quad \neg(a < a)$
\end{enumerate}

\subsection{Strong Principle of Induction}
Recall from the third peano axiom, the induction axiom that states that.
\begin{quote}
    if $p(1)$ is true and $p(n) \Rightarrow p(n+1)$, then $p(n)$ is true for all natrual numbers $n$.
\end{quote}
This is also know as the weak principle of induction (WPI).

A more useful form is known as the strong principle of induction (SPI).

\begin{defi}[Strong Principle of Induction]
    if the following holds:
    \begin{enumerate}
        \item $P(1)$ is true
        \item $\forall n \in \N$, we have $(p(m) \forall m \leq n) \Rightarrow p(n + 1)$
    \end{enumerate}
    then $p(n)$ holds $\forall n \in \N$
\end{defi}

In fact, it can be shown that the two principles are equivalent!
\begin{prop}[SPI $\Leftrightarrow$ WPI]
    The equivalence of the two principles can be stated as:
    \begin{enumerate}
        \item Any $p(n)$ that is true due to WPI, can also be proven to be true using SPI.
        \item Any $p(n)$ that is true due to SPI, can also be proven to be true using WPI.
    \end{enumerate}
\end{prop}

\begin{proof}\leavevmode
    In general, if we have two methods of proof $A$ and $B$ which can used to prove some statement $s$, $A \Rightarrow B$ statement that $s$ can be proved using $A$ given the conditions of $B$. 
    \begin{enumerate}
        \item (SPI $\Rightarrow$ WPI) Assume the conditions of WPI: 
            \begin{enumerate}
                \item $p(1)$ is true
                \item $\forall n \in \N, \quad p(n) \Rightarrow p(n+1)$
            \end{enumerate}
            Consider some $p(n)$, for $n \geq 1$. From the condition of WPI, we have that,
            \[
                p(1) \Rightarrow p(2), \quad p(2) \Rightarrow p(3), \quad \ldots, \quad p(n-1) \Rightarrow p(n)  
            \]
            Since $p(1)$ is true, we have that
            \[ 
                \bigwedge_{\forall m \leq n}{p(m)} \quad \text{is true.}
            \]
            Therefore,
            \[
                (p(m) \forall m \leq n) \Rightarrow p(n + 1)
            \]
            is a trivially true implication and $p(n)$ is true by SPI.
        \item (WPI $\Rightarrow$ SPI) Assume the conditions of SPI:
            \begin{enumerate}
                \item $p(1)$ is true
                \item $\forall n \in \N, \quad (p(m) \forall m \leq n) \Rightarrow p(n + 1)$
            \end{enumerate}
            Consider the statement $Q(n) = $ ``$p(m)$ holds $\forall m \leq n$''. Therefore, using the second assumption of SPI,
            \[
                Q(n) = (p(m) \forall m \leq n) \Rightarrow p(n + 1) = (p(m) \forall m \leq n+1) = Q(n + 1)
            \]
            Therefore, by WPI, $Q(n)$ is true $\forall n \in \N$, and further $p(n)$ is true $\forall n \in \N$.
    \end{enumerate}
\end{proof}

\begin{defi}[Well-Ordering Principle]
    If $p(n)$ holds for some $n \in \N$, then there is a least $n$ such that $p(n)$ holds. An alternative statement is 
    \begin{quote}
        Every non-empty subset of $\N$ has a minimal element
    \end{quote}
    To see that this is the case define the set to be the set of elements where $p(n)$ is true.
\end{defi}

\begin{nthm}[SPI is equivalent to WOP]
\end{nthm}

\begin{proof}\leavevmode
    \begin{enumerate}
        \item (WOP $\Rightarrow$ SPI). Assuming the conditions (i) and (ii) from SPI, we will show that $p(n)$ holds $\forall n \in \N$ using WOP.
        Suppose on the contrary, that $p(n)$ is not true $\forall n \in \N$. Then we consider the set
        \[
            c = \{n \in \N \mid p(n) \ \text{is false}\}
        \]
        Note that since $p(n)$ is not true $\forall n \in \N$ that means that there exists at least one element in $c$ and therefore $c \neq \varnothing$. By WOP, $c$ must have a minimal element $m$. By the minimality of $m$
        \[
            \forall  k < m, \quad k \notin c  
        \]
        Therefore, $p(k)$ holds $\forall k \leq m$. However, by condition (ii) of SPI, $p(m)$ is true. This contradicts $m \in C$. \contradiction
        Hence, $p(n)$ must be true $\forall n \in \N$.
        \item (SPI $\Rightarrow$ WOP). We will proceed by proving the contrapositive ($\neg \text{WOP} \Rightarrow \text{SPI}$).
        Suppose there is no least natural number $n \in \N$ such that $p(n)$ holds, we will aim to show that $p(n)$ is false $\forall n \in \N$ using SPI. Consider
        \[
            Q(n) = \neg p(n)  
        \]
        By assuming that there is no least natural number where $p(n)$ is true, that indicates that $p(1)$ is false and by definition $Q(1)$ is true. Given $n \in N$ suppose that $Q(k)$ is true $\forall k < n$.
        Then $p(k)$ is false $\forall k < n$, and therefore $p(n)$ is false, as otherwise $n$ would be the minimal element (which we assumed cannot exist).
        Hence, $Q(n)$ is true, and by (ii) of SPI, $Q(n)$ is true $\forall n \in \N$.
        Therefore, $p(n)$ is false $\forall n \in \N$.
    \end{enumerate}
\end{proof}

\begin{remark}
    For any proof that we can attempt using induction, we may alternatively use WOP in the following way; we will prove that $p(n)$ is true $\forall n \in N$ by contradiction. Suppose it was not true $\forall n \in \N$. Then, there must be a minimal counter example. By looking at this counter example carefuly try to derive a contradiction.
\end{remark}

\subsection{The Integers}
\begin{defi}
    The integers, written $\Z$, consists of all symbols $n$, $-n$, where $n$ is in the natural numbers, along with $0$.
\end{defi}
We can define the operations $+$ and $\cdot$ on $\Z$ from $\N$. We may check that the usual rules (1) - (5) of arithmetic hold. Furthermore, since we have the inclusion of $0$,
\begin{enumerate}[start=10, label=(\arabic*)]
    \item $\forall a, b \in \Z, \quad a + 0 = a$ \hspace*{\fill}(identity)
    \item $\forall a \in \Z, \exists b \in \Z, \quad a + b = 0$ \hspace*{\fill}(inverse)
\end{enumerate}
Note that these two properties indicate that $\Z$ forms a group under addition. We may also define a similar ordering
\begin{defi}
    $\forall a, b \in \Z, \quad a < b$ if $a + c = b$ for some $c \in \N$
\end{defi}
Note that we specified that $c$ is a natural number. We continue does the list of rules and remark that (6), (8) and (9) continue to hold. However, we need to modify (7)
\begin{enumerate}
    \item[($\text{7}^{\prime}$)]  $\forall a, b, c \in \Z, \quad (a < b) \wedge (c > 0) \Rightarrow ac < bc$
\end{enumerate}
With these we say that addition is \emph{closed}. That is, performing addition over the integers always results in another element within the integers. This is not the same for multiplication as we do not yet always have inverses.

\subsection{The Rationals}
\begin{defi}
    The rationals, written $\Q$ consist of all expression $\frac{a}{b}$ where $a, b \in \Z$ and $b \neq 0$.
\end{defi}

Note that in the sense of rationals that we are used to, we need to encode that the number $\frac{a}{b}$ does not depend on the \emph{representation} that we have chosen. Therefore we will define
\[
    \frac{a}{b} = \frac{c}{d} \Leftrightarrow ad = bc
\]

\begin{defi}
    \[
        \frac{a}{b} + \frac{c}{d} = \frac{ad + bc}{bd}
    \]
\end{defi}

Before we proceed we will check that this does not depend on the representation that we have chosen.
\begin{proof}
    Consider two rational numbers that are equal. That is, 
    \[
        \frac{a}{b} \ \text{and} \ \frac{a'}{b'} \quad \text{such that} \ ab' = a'b
    \]
    Then we have that, 
    \begin{align*}
        \frac{a}{b} + \frac{c}{d} &= \frac{ad + bc}{bd} \\
        \frac{a'}{b'} + \frac{c}{d} &= \frac{a'd + b'c}{b'd}
    \end{align*}
    We need addition over the rationals to be independent of representation. Therefore, these two sums need to be equal. We can check that
    \begin{align*}
        &\frac{ad + bc}{bd} = \frac{a'd + b'c}{b'd} \\
        \Leftrightarrow& \ b'd(ad + bc) = bd(a'd + b'c) \\
        \Leftrightarrow& \ b'ad^2 + b'dbc = ba'd^2 + bdb'c \\
        \Leftrightarrow& \ b'ad^2 = ba'd^2 \\
        \Leftrightarrow& \ b'a = ba' \tag{since $d \neq 0$}
    \end{align*}
    Which is true by definition of $a'$ and $b'$
\end{proof}

Similarly, we can define for multiplication
\begin{defi}
    \[
        \frac{a}{b}\frac{c}{d} = \frac{ac}{bd}
    \]
\end{defi}
\begin{proof}
    We will reuse the same two equal fractions as with the previous proof. Then we have that, 
    \begin{align*}
        \frac{a}{b}\frac{c}{d} &= \frac{ac}{bd} \\
        \frac{a'}{b'}\frac{c}{d} &= \frac{a'c}{b'd}
    \end{align*}
    For these two to be equal
    \begin{align*}
        &\frac{ac}{bd} = \frac{a'c}{b'd} \\
        \Leftrightarrow& \ b'd(ac) = bd(a'c) \\
        \Leftrightarrow& \ b'ac = ba'c \tag{since $d \neq 0$} \\
    \end{align*}
    If we restrict this to cases where $c \neq 0$
    \[
        \Leftrightarrow b'a = ba'
    \]
    as required. In the case when $c = 0$ this is identical to multiplying by $0$ and all rationals will be mapped to $0$.
\end{proof}

Similarly, we can define an ordering
\begin{defi}
    \[
        \frac{a}{b} < \frac{c}{d} \Rightarrow ad < bc  \ \text{where} \ b, d > 0
    \]
\end{defi}

Now that we have a larger number system we have a new property
\begin{enumerate}[start=12, label=(\arabic*)]
    \item $\forall a, b \in \Q,\ a \neq 0 \ \exists b \quad \text{s.t.} \ ab = 1$ \hspace*{\fill}(multiplicative inverse)
\end{enumerate}
This turns the rationals into a group under multiplication.

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 4: 12/10/2023
%%%%%%%%%%%%%%%%%%%%%%

\begin{remark}
    From our construction of the number sets, we can see that
    \[
        \N \subset \Z \subset \Q
    \]
    But notice that the first relationship between $\N$ and $\Z$ comes as a given, while the relationship between $\Z$ and $\Q$ requires an extra step. That being that we assing to each integer number $a$ the rational number $\frac{a}{1}$.
\end{remark}

\subsection{Primes}
\begin{defi}[Divides]
    Given integers $a$ and $b$, we say that ``$a$ divides $b$'' if $\exists c \in \Z$ such that 
    \[
        b = ac  
    \]
    We may also say that ``$a$ is a divisor of $b$'' or ``$a$ is a factor of $b$'' or ``$b$ is a multiple of $a$'', or write
    \[
        a \mid b  
    \]
 \end{defi}

 \begin{defi}[Proper factors]
    For all $b \in \Z$, $\pm 1 \mid b$ and $\pm b \mid b$ and are always factors. All other factors are called propper factors.
 \end{defi}

\begin{defi}[Primes]
    A natural number $n \geq 2$ is a prime if its only factors are $\pm 1$ and $\pm n$. If $n \geq 2$ is not prime, then we call it \emph{composite}.
\end{defi}

\begin{nprop}\label{prop:2-2}
    Every natural number $n \geq 2$ can be written as a product of primes.
\end{nprop}

\begin{proof}
    We will proceed by strong induction on $n$. The statement is true for $n=2$. Let $n > 2$, and suppose the claim holds up to and including $n-1$.
    \begin{enumerate}[cases]
        \item If $n$ is prime, we are done
        \item If $n$ is composite, then, $n = ab$ for some $1 < a, b < n$
    \end{enumerate}
    Therefore, by the induction hypothesis, both $a$ and $b$ can be written as a product of primes
    \begin{align*}
        a &= p_1p_2 \ldots p_k \\
        b &= q1q2 \ldots q_l
    \end{align*}
    for primes $p_i$ and $q_j$.

    Hence, $n$ can be written as a product of primes
\end{proof}

\begin{nthm}
    There are infinitely many primes
\end{nthm}
\begin{proof}
    Suppose there are in fact only finitely many primes, say
    \[
        p_1, p_2, \ldots, p_k  
    \]
    Form the number $N = p_1p_2\ldots p_k + 1$. Then $p1 \nmid N$. Otherwise,
    \[
        p_1 \mid N - p_1p_2 \ldots p_k = 1
    \]
    which is a contradiction. \contradiction

    Likewise, none of $p_i$ divides $N$, contradicting the fact that $N$ can be written as a product of primes (by proposition \ref{prop:2-2}). \contradiction
\end{proof}

Can a number have more than one representation as a product of primes? proposition \ref{prop:2-2} does not give us uniqueness. However, from experience it is what we expect.

\begin{nprop}\label{prop:2-4}
    If $p$ is a prime and $p \mid ab$ then $p \mid a$ or $p \mid b$ or both.
\end{nprop}

Before we use this to prove the uniqueness of prime factorisation, we will go through some other definitions.

\begin{defi}[Highest Common Factor (HCF) \ (GCD)]
    Given $a, b \in \N$, $c \in \N$ is the highest common factor (hcf) or greatest common divisor (gcd) of $a$ and $b$ if
    \begin{enumerate}
        \item $c \mid a \wedge c \mid b$
        \item $(d \mid a \wedge d \mid b) \Rightarrow d \mid c$ 
    \end{enumerate}
    In plain english, (i) states that the highest common factor is a common divisor, and (ii) states that every common divisor of $a$ and $b$ divides $c$. We write
    \[
        c = \gcd{(a, b)} = (a, b)    
    \]
    where GCD stands for greatest common divisor.
\end{defi}

\begin{eg}
    Take $12$ and $18$, we list their factors
    \begin{align*}
        12 &: 1, 2, 3, 4, 6, 12 \\
        18 &: 1, 2, 3, 6, 9, 18
    \end{align*}
    Therefore the set of common divisors is
    \[
        \{1, 2, 3, 6\}  
    \]
    By (ii) we find the factor that every factor divides. 
    \[
        \gcd{(12, 18)} = 6  
    \]
\end{eg}

\begin{remark}
    Observe that it is not obvious that all divisors would divide at least one divisor. For instance if the set of common divisors was instead
    \[
        \{1, 2, 3, 4, 6\}  
    \] 
    there would be no element that can satisfy (ii) of the definition. Therefore, we will need to prove that the HCF always exists.
\end{remark}

\begin{nprop}[Division Algorithm]
    Let $n, k \in \N$. Then we can write 
    \[
        n = qk + r \quad \text{where} \ q, r \in \Z  
    \]
    and $0 \leq r \leq k - 1$
\end{nprop}

\begin{proof}
    We will proceed by induction on $n$. It is true for $n = 1$. Suppose for $n \geq 2$ and $n - 1$
    \[
        n-1 = qk + r \quad \text{for} \ k, r \in \Z    
    \]
    and $0 \leq r \leq k-1 $
    \begin{enumerate}[cases]
        \item If $r < k - 1 \Rightarrow n = qk + (r + 1)$
        \item If $r = k -1 \Rightarrow n = qk + k = (q+1)k$
    \end{enumerate}

    Therefore, by induction $p(n-1) \Rightarrow p(n)$ and it is true $\forall n \in \N$.
\end{proof}

\begin{remark}
    Note that $q$ and $r$ obtained are unique. Notice that if
    \[
        n = qk + r = q'k + r' \Rightarrow (q - q')k = r' - r
    \]
    where $-k < r - r' < k$ and since $0 \leq r < k$. Therefore,
    \[
        q = q' \quad \text{and} \quad r = r'  
    \]
\end{remark}

\begin{defi}[Euclids Algorithm]

\end{defi}

\begin{center}
    \begin{tabular}{c | c c | c c }
        Input & $ \qquad a \qquad$ & $\qquad b \qquad$ & $a=372$ & $b=162$ \\
        \midrule
        Step 1 & \multicolumn{2}{c |}{$a = q_1b + r_1, \quad 0 < r_1 < b$} & \multicolumn{2}{c}{$372 = 2\cdot162 + 48$}\\
        Step 2 & \multicolumn{2}{c |}{$b = q_2r_1 + r_2, \quad 0 < r_2 < r_1$} & \multicolumn{2}{c}{$162 = 3\cdot48 + 18$}\\
        Step 3 & \multicolumn{2}{c |}{$r_1 = q_3r_2 + r_3, \quad 0 < r_3 < r_2$} & \multicolumn{2}{c}{$48 = 2\cdot18 + 12$}\\
        & \multicolumn{2}{c |}{$\vdots$} & \multicolumn{2}{c}{$18 = 1\cdot12 + 6$}\\\
        Step $n$ & \multicolumn{2}{c |}{$r_{n-2} = q_{n}r_{n-1} + r_{n}, \quad 0 < r_{n} < r_{n-1}$} & \multicolumn{2}{c}{$12 = 2\cdot6$}\\
        \midrule
        Output & \multicolumn{2}{c |}{$r_n$} & \multicolumn{2}{c}{$6$}\\
    \end{tabular}
\end{center}
The algorithm terminates when
\[
    n + 1 \mid r_{n-1}
\]
Note that this will happen in at most $b$ steps. In each step, the remainder is strictly reduced. Since,
\[
    b > r_1 > r_2 > \ldots > r_n > 0
\]

\begin{nthm}
    The output of Euclids Algorithm with input $(a, b)$ is the $\gcd{(a, b)}$
\end{nthm}

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 5: __/10/2023
%%%%%%%%%%%%%%%%%%%%%%

\begin{proof}\leavevmode
    \begin{enumerate}
        \item Since $r_{n+1} = 0$, we have that $r_n | r_{n-1}$. Hence, $r_{n} | r_{n-2}$. 
        Therefore, by induction $r_n | r_i \quad \forall i=1, 2, \ldots, n-1$. Hence, $r_n | b$ and $r_n | a$.
        \item Given a divisor $d$ such that $d|a$ and $d|b$, by the first step we know that $d|r_1$, and therefore $d|r_2$ by the second step. Proceeding inductively, $d|r_i \quad \forall i = 1, 2, \ldots, n$
    \end{enumerate}
\end{proof}

\begin{remark}
    It's much faster to use euclids algorithm than to do the typical approach of prime factorisation and then comparison. Also, Euclids algorithm shows us a way to write the gcd as a linear combination of $a$ and $b$.
\end{remark}

\begin{eg}[$\gcd(87, 52)$]
    \begin{align*}
        87 &= 1 \cdot 52 + 35 \\
        52 &= 1 \cdot 35 + 17 \\
        35 &= 2 \cdot 17 + 1 \\
        17 &= 17 \cdot 1
    \end{align*}
    Since $1$ was the last non zero remainder, 
    \[
        \therefore \gcd(87, 52) = 1
    \]
\end{eg}

\begin{defi}[Coprime]
    When $\gcd(a, b) = 1$ we say that $a$ and $b$ are \emph{coprime}.
\end{defi}

\begin{remark}
    We can reverse the process of Euclids algorithm, 
    \begin{align*}
        1 &= 35 - 2 \cdot 17 \\
        &= 35 - 2 \cdot (52 - 35) \\
        &= 3 \cdot 35 - 2 \cdot 52 \\
        &= 3 \cdot (87 - 52) - 2 \cdot 52 \\
        &= 3 \cdot 87 - 5 \cdot 52
    \end{align*}
    Notice that in this process, we did not need to do any calculations again, we simply expanded the coefficients we had found earlier.
\end{remark}

\begin{nthm}\label{th:2-7}
    The greatest common divisor is the smallest possible linear combination of $a$ and $b$. 
    That is the smallest solution to $\forall a, b \in \N, \quad \exists x, y \in \Z$
    \[
        ax + by = \gcd(a, b)  
    \]
\end{nthm}

\begin{proof}[Proof 1]
    We will run Euclids algorithm with $a$ and $b$ as inputs to obtian $r_n$. At step $n$,
    \[
        r_n = x r_{n-1} + y r_{n-2} \quad \text{for some} \ x, y \in \Z   
    \]
    At step $n-1$,
    \[
        r_{n-1} = x r_{n-2} + y r_{n-3} \quad \text{for some} \ x, y \in \Z   
    \]
    Whence, $r_n = x r_{n-2} + y r_{n-3} \quad \text{for some} \ x, y \in \Z$
    Proceeding inductively, we have for all $i = 2, \ldots, n-1$
    \[
        r_n = xr_i + yr_{i-1}    
    \]
    Therefore $r_n = xa + yb$ for some $x, y \in \Z$ by steps $1$ and $2$.
\end{proof}

\begin{remark}
    Euclid's algorithm is fast! and it not only proves the existence of $x, y \in \Z$ but also computes it for us.
\end{remark}

\begin{proof}[Proof 2]
    Let $h$ be the least positive linear combination of $a$ and $b$. (Recall from lecture 1 that this needs justification) By the WOP, since the linear combinations of $a$ and $b$ form a subset of the positive integers, such a least positive $h$ exists.
    We shall show that
    \[
        h = ax + by = \gcd(a, b)  
    \]
    \begin{enumerate}[cases]
        \item To see (ii) that is all other factors $d$ divides $h$, take any $d$ such that $d | a$ and $d | b$. Clearly, $d | ax + by, \quad \forall x, y \in \Z$. In particular $d | h$.
        \item To see (i), we will proceed by contradiction. Suppose that $h \nmid a$. Then we may write
        \[
            a = qh + r \quad \text{for} \ q, r \in \Z  
        \]
        where $0 < r < h$. Hence, $r = a - qh = a - q(ax + by)$, which is also a linear combination of $a$ and $b$, and is strictly smaller than $h$. This contradicts the minimality of $h$. \contradiction
        Therefore $h \mid a$ and likewise by the same argument for $b$, $h \mid b$.
    \end{enumerate}
\end{proof}

\begin{remark}
    This proof does not give us a way to compute neither the hcf nor the values of $x$ and $y$.
\end{remark}

\begin{question}
    Is there a solution in $x, y \in \Z$ to
    \[
        87x + 52y = 33  
    \]
    yes!, we have that $x'87 + y'52 = 1$. Therefore,
    \begin{align*}
        x = 33x' \\
        y = 33y'
    \end{align*}
\end{question}

\begin{nthm}[B\'ezout's theorem]
    Let $a, b \in \N$. Then, the equation $ax + by = c$ has a solution in $x, y \in \Z$ if and only if\
    \[
        \gcd(a, b) \mid c  
    \]
\end{nthm}

\begin{proof}\leavevmode
    \begin{enumerate}
        \item[($\Rightarrow$)] Let $h = \gcd(a, b)$. Suppose $\exists x, y \in \Z$ such that $ax + by = c$. Then since $h \mid a$ and $h \mid b$, we have that $h \mid c$ 
        \item[($\Leftarrow$)] Suppose $h \mid c$. Theorem \ref{th:2-7} implies that $\exists x, y$ such that
        \[
            h = ax + by
        \]
        by observing $c = \frac{c}{h} \cdot h$ we have that
        \[
            c = \frac{c}{h} \cdot (ax + by) = a \frac{xc}{h} + b \frac{yc}{h} 
        \]
        note that $\frac{c}{h} \in \Z$ since $h \mid c$.
    \end{enumerate}
\end{proof}

\begin{prop}[recall \ref{prop:2-4}]
    If $p$ is a prime and $p \mid a$, then $p \mid a$ or $p \mid b$.
\end{prop}

\begin{proof}
    Suppose $p \mid ab$ but $p \nmid a$. We will show that $p$ must divide $b$. 
    Since $p$ is prime and $p \nmid a$, $\gcd(a, p) = 1$. By theorem \ref{th:2-7}, $\exists x, y \in \Z$ such that $xp + ya = 1$.
    It follows that $xbp + yab = b$. Now we find that $b$ is a multiple of $p$, since $xbp$ is a multiple of $p$ and $yab$ is a multiple of $p$.
\end{proof}

\begin{remark}
    \begin{enumerate}
        \item Similarly, if $p \mid a_1a_2\cdots a_n \Rightarrow \exists i \quad p \mid a_i$. By prop \ref{prop:2-4}, if $p \mid a_1a_2\cdots a_n$ then $p \mid a_1$ or $p \mid a_2\cdots a_n$, so we may conclude by induction on the number of terms in the product.
        \item We do need $p$ to be prime as it gives us that $\forall a, \quad \gcd(a, p) = 1$
    \end{enumerate}
\end{remark}

\begin{nthm}[Fundamental theorem of arithmetic]\label{th:2-29}
    Every natural number is expressible as a product of primes uniquely (up to a reordering).
\end{nthm}

\begin{proof}
    The existence of such a factorisation follows from prop \ref{prop:2-2}. To see uniqueness we will proceed by induction on $n$.
    Certainly it is true for $n=2$. Given $n > 2$ suppose $n = p_1p_2\cdots p_k = q_1q_2\cdots q_l$ where $p_i$ and $q_j$ are prime. We want to show that $k = l$ and after reordering $p_i = q_i$.
    We have that $p_1 \mid n$ and therefore $p_1 \mid q_1q_2\cdots q_l$. By proposition \ref{prop:2-4}, $p_1$ must divide $q_i$ for some $i$. Relabelling, these $q_i$, we may assume that
    \[
        p_1 \mid q_1 
    \]
    Since $p_1$ is a prime, $p_1 = q_1$, and so 
    \[
        \frac{n}{p_1} = p_2\cdots p_k = q_2\cdots q_l < n  
    \]
    By the induction hypothesis, $k = l$ and after reordering $p_i = q_i \quad \forall i$
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 6: 17/10/2023
%%%%%%%%%%%%%%%%%%%%%%

\begin{remark}
    There are arithmetical systems (those permitting addition and multiplication) in which factorisation is not unique. 
    For example, consider the number system $\Z[\sqrt{-3}]$, which we call the integers adjoin $\sqrt{-3}$. These are the set of all complex numbers of the form
    \[
        x + y\sqrt{-3} \quad \text{for} \ x, y \in \Z 
    \]
    We can multiply and add two elements of $\Z[\sqrt{-3}]$ to get another element. For intance,
    \begin{align*}
        (1 + \sqrt{-3}) + (1 - \sqrt{-3}) = 2 \\
        (1 + \sqrt{-3})(1 - \sqrt{-3}) = 4
    \end{align*}
    Note that we can similarly define what it means to be "prime" in $\Z[\sqrt{-3}]$ and both $(1 + \sqrt{-3})$ and $(1 - \sqrt{-3})$ happen to be prime. 
    But, we can also write $4 = 2 \times 2$, and we see that factorisation is not unique in this system. 
\end{remark}
    
Lets look at some applications of theorem \ref{th:2-29}
\begin{enumerate}[label=(\arabic*)]
    \item What are the factors of $n = 2^3 \cdot 3^7 \cdot 11$?
    
    They all all numbers of the form $2^a3^b11^c$ where
    \begin{align*}
        0 \leq &a \leq 3 \\
        0 \leq &b \leq 7 \\
        0 \leq &c \leq 1
    \end{align*}
    How can we be sure that there are no other factors? Consider that if, for example $7 \mid n$, then we could have a factorisation including $7$ which contradicts uniqueness.

    Generally, $n = p_1^{a_1}p_2^{a_2}\cdot p_k^{a_k}$ has factors of the form
    \[
        p_1^{b_1}p_2^{b_2}\cdot p_k^{b_k} \quad \text{for} \ 0 \leq b_i \leq a_i \ \forall i = 1, 2, \cdots, k
    \]

    \item What are the common factors of $2^3 \cdot 3^7 \cdot 5 \cdot 11^3$ and $2^4 \cdot 3^2 \cdot 11 \cdot 13$?
    
    They all all numbers of the form $2^a3^b11^c$ where
    \begin{align*}
        0 \leq &a \leq 3 \\
        0 \leq &b \leq 2 \\
        0 \leq &c \leq 1
    \end{align*}
    Thus, we can read off the highest common factor as $2^3\cdot3^2\cdot11$. In general, the highest common factor of $p_1^{a_1}p_2^{a_2}\cdot p_k^{a_k}$ and $p_1^{b_1}p_2^{b_2}\cdot p_k^{b_k}$ is
    \[
        p_1^{\min{\{a_1, b_1\}}}p_2^{\min{\{a_2, b_2\}}}\cdots p_k^{\min{\{a_k, b_k\}}}  
    \]

    \item What are the common multiples of the two numbers in (2).
    
    They are all numbers of the form $2^a\cdot3^b\cdot5^c\cdot11^d \times q$. Where $a\geq4, b\geq7, c\geq1, d\geq3, e\geq1$, and $q \in \Z$.
    Hence, $2^4\cdot3^5\cdot5\cdot11^3\cdot13$ is a common multiple, and every other common multiple is a multiple of it. 
    We call it the least common multiple (LCM) of the two numbers. In general, the LCM of $p_1^{a_1}p_2^{a_2}\cdot p_k^{a_k}$ and $p_1^{b_1}p_2^{b_2}\cdot p_k^{b_k}$ is
    \[
        p_1^{\max{\{a_1, b_1\}}}p_2^{\max{\{a_2, b_2\}}}\cdots p_k^{\max{\{a_k, b_k\}}}   
    \]
    Furthermore, since
    \begin{align*}
        \min{\{a_i, b_i\}} + \max{\{a_i, b_i\}} = a_i + b_i \\
        \Rightarrow \gcd(x,y) \cdot lcm(x,y) = xy
    \end{align*}

    \item Another proof for the existence of infinitely many primes! (Erdos 1930).
    
    Let $p_1, p_2, \cdots, p_k$ be all the primes. Any number which is a product of just these primes is of the form
    \[
        p_1^{j_1}p_2^{j_2}\cdot p_k^{j_k} = m^2 p_1^{i_1}p_2^{i_2}\cdot p_k^{i_k} \tag{$\star$}
    \]
    Where we have factorised all even powers out such that $i_l$ is either $0$ or $1$.

    Let $M \in \N$, if a number $\leq M$ is of the form ($\star$) then
    \[
        m \leq \sqrt{M}  
    \]
    so there are at most $\sqrt{m} \cdot 2^k$ numbers of the form ($\star$) that are $\leq M$.

    If $M > \sqrt{m} \cdot 2^k$ for example, $M > 4^k$, then there must be a number that is $\leq M$ that is not of the form ($\star$).
    But this number must have a prime factor not amongst $p_1 \ldots p_k$. \contradiction
\end{enumerate}

\begin{remark}
    With regards to (4), Erdos proof that there are infinitely many primes, we see that by employing a "counting argument" we are able to get some sense of how many primes there are.
    Euclid's proof tells us that the $k^{th}$ prime is $<2^{2^k}$, which this proof gives a significantly stronger bound of $<4^k$. In fact, we know that the $k^{th}$ prime is in fact $\approx k \log{k}$ (prime number theorem).
\end{remark}

\subsection{Modular arithmetic}

Let $n \geq 2$ be a natural number. Then the integers "modulo $n$" written $\Z_n$ or $\Z/n\Z$, consists of the integers, with two being regarded as the same if they differ by a multiple of $n$.

\begin{eg}[$\Z_7$]
    In $\Z_7$, $2$ is the same as $16$.
\end{eg}

\begin{defi}
    If $x$ and $y$ are the same in $\Z_n$ we write
    \[
        x \equiv y \mod n
    \]
    Alternative notation may be
    \[
        x \equiv y \quad (n) \quad \text{or} \quad x = y \ \text{in} \ \Z_n 
    \]
    Thus, we have the relationship
    \[
        x \equiv y \mod n \Leftrightarrow n \mid x - y \Leftrightarrow x = y + kn \ k \in \Z
    \]
\end{defi}

We can view $\Z_n$ as counting in a circle.
% insert diagram
Note that we cannot take addition and multiplication in this number system for granted. Notice how even and odd does not continue to make sense in $\Z_7$, for instance, $2 \equiv 9$ in  this number system. We will have to check that addition and multiplication are well defined.

\begin{proof}\leavevmode
    \begin{enumerate}
        \item (addition). If $a = a'$ and $b = b'$, we check that
        \begin{align*}
            n \mid (a - a') + (b - b') \\
            n \mid (a + b) - (a' + b') \\
            \therefore a + b \equiv a' + b' \mod n
        \end{align*}
        
        \item (multiplication) Similarly,
        \begin{align*}
            n \mid& (a - a')\cdot b + a' \cdot(b - b') \\
            &= a \cdot b - a' \cdot b + a' \cdot b + a' \cdot b' \\
            &= a \cdot b - a' \cdot b' \\
            \therefore& \quad a + b \equiv a' + b' \mod n
        \end{align*}
    \end{enumerate}
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 7: 19/10/2023
%%%%%%%%%%%%%%%%%%%%%%

We are able to inherit the usual rules of arithmetic in $\Z$.

\begin{eg}
    Does the equation $2a^2 + 3b^3 = 1$ have a solution in integers $a, b \in \Z$?. 

    Note that if there is a solution, then $2a^2 \equiv 1 \mod 3$. However, if we check all cases,
    \begin{align*}
        a \equiv 0, 1, 2 \\
        a^2 \equiv 0, 1, 1 \\
        2a^2 \equiv 0, 2, 2
    \end{align*}
    Therefore there are no solutions in the integers.
\end{eg}

\subsubsection*{Solving Congruences}

In particular, lets look at linear congruences, where the variables appear as they are, and not squared, cubed, etc. For example, solve
\[
    7x \equiv 2 \mod 10
\]
We note that $3 \cdot 7 \equiv 1 \mod 10$, and so we may multiply the equation by $3$ throughout,
\begin{align*}
    3 \cdot 7x &\equiv 3 \cdot 2 \mod 10 \\
    x &\equiv 6 \mod 10
\end{align*}

\begin{defi}
    We say that $b$ is an inverse of $a$ modulo $n$ if
    \[
        a \cdot b \equiv 1 \mod n
    \]
    We say that $a$ is invertable modulo $n$, of that $a$ is a unit modulo $n$, if it has an inverse.
\end{defi}

\begin{eg}\leavevmode
    \begin{itemize}
        \item in $\Z_{10}$ we say that $3$ is an inverse of $7$, and both $3$ and $7$ are units in $\Z_{10}$
        \item $4$ is \emph{not} a unit in $\Z_{10}$ since there are no solutions to $4x \equiv 1 \mod 10 \ \forall x \in \Z$
    \end{itemize}
\end{eg}

\begin{remark}
    If $a$ is a unit modulo $n$ then,
    \begin{enumerate}
        \item It's inverse in unique. Suppose $\exists b, b'$ such that $ab = ab' = 1 \mod n$. Then,
        \[
            b \equiv bab' \equiv b' \mod n     
        \]
        \item Since the inverse is unique we can write $a^{-1}$ for the unique inverse of $a$.
        \item If $ab \equiv ac \mod n$ then $b \equiv c \mod n$, since we can "cancel" units by multiplying by the inverse. Note that it is not true in general, and only the case for units. 
    \end{enumerate}
\end{remark}

\begin{nprop}\label{prop:2-10}
    Let $p$ be prime. Then every $a \neq 0 \mod p$ is a unit modulo $p$. 
\end{nprop}

\begin{proof}
    We have that $(a, p) = 1$ Therefore, there exists $x, y \in \Z$ such that,
    \begin{align*}
        ax + yp = 1 &\Leftrightarrow ax = 1 - py \\
        &\Leftrightarrow ax \equiv 1 \mod p
    \end{align*}
\end{proof}

\begin{prop}[\ref{prop:2-10} continued...]
    Let $n \geq 2 \in \N$, then $a$ is a unit modulo $n$ if and only if $(a, n) = 1$    
\end{prop}

\begin{proof}
    The proof is the same as above,
    \[
        (a, n) = 1 \Leftrightarrow ax + ny = 1 \Leftrightarrow ax \equiv 1 \mod n
    \]
\end{proof}

\begin{ncor}\label{prop:2-11}
    If $(a, n) = 1$ then the congruence $ax \equiv b \mod n$ has a unique solution. In particular, if $(a, n) = 1$ and $b = 1$ then we get back that $a$ has a unique inverse modulo $n$. 
\end{ncor}

What about cases where the greatest common factor is not $1$, i.e; $(a, n) = d > 1$. Since we know that
$n \mid ax - b$ and $d \mid n$ and $d \mid a$, then we can deduce that $d \mid b$. Conversely, if $d \mid b$ then we may write
\[
    n = d \cdot n' \quad  a = d \cdot a' \quad  b = d \cdot b'
\]
We may then simply the congruences
\begin{align*}
    ax \equiv b \mod n &\Leftrightarrow ax - b = kn \ \exists k \in \Z \\
    &\Leftrightarrow da'x - db' = kdn' \\
    &\Leftrightarrow a'x - b' = kn' \\
    &\Leftrightarrow a'x \equiv b' \mod n' 
\end{align*}
Because we know that $d$ is the highest common factor of $a$ and $n$ we know that $a'$ and $n'$ are coprime. Therefore, by prop \ref{prop:2-11} the reduced congruence has a unique solution.
Therefore, if $(a,n)=d>1$ then the congruence $ax \equiv b \mod n$ has no solution unless $d \mid b$, in which case the solutions are exactly those of
\[
    \frac{a}{d}x \equiv \frac{b}{d} \mod \frac{n}{d}  
\]

\begin{eg}\leavevmode
    \begin{enumerate}
        \item Solve $7x \equiv 4 \mod 30$. 
        We have that $(7, 30) = 1$, so by Euclid, we can solve for $13 \cdot 7 - 3 \cdot 30 = 1$. Hence, $13$ is the inverse of $7$ which gives
        \begin{align*}
            13 \cdot 7x \equiv 13 \cdot 4 \equiv 22 \mod 30 \\
            \therefore x \equiv 22 \mod 30
        \end{align*}
        Suppose we have that $x'$ is also a solution to $7x' \equiv 4 \mod 30$, then, 
        \[
            7x' \equiv 7x \mod 30  
        \]
        since $7$ is a unit, we can ``cancel'' to arrive at
        \[
            x' \equiv x \mod 30    
        \]
        and we have shown that the solution is unique. In short, we could have written
        \begin{align*}
            7x \equiv 4 \mod 30 &\Leftrightarrow 13 \cdot 7x \equiv 13 \cdot 4 \mod 30 \\
            &\Leftrightarrow x \equiv 22 \mod 30 
        \end{align*}
        Note that in the first equivalance, we are allowed to do the reverse direction because $13$ is a unit modulo $30$.

        \item Solve $10x \equiv 12 \mod 34$
        \begin{align*}
            10x \equiv 12 \mod 34 &\Leftrightarrow 10x = 12 + k34 \\
            &\Leftrightarrow 5x \equiv 6 + k17 \\
            &\Leftrightarrow 5x \equiv 6 \mod 17
        \end{align*}
        So we are back in the situation where $(a, n) = 1$ and we can solve as before,
        \[
            5\cdot7 - 2\cdot 17 = 1 \Rightarrow 7 \cdot 5x \equiv 7 \cdot 6 \mod 17 \Rightarrow x \equiv 8 \mod 17  
        \]
    \end{enumerate}
\end{eg}

\subsubsection*{Solving Simultaneous Congruences}
Note that,
\[
    x \equiv 5 \mod 12 \Rightarrow \begin{cases}
        x \equiv 2 \mod 3 \\
        x \equiv 1 \mod 4
    \end{cases}
\]
However, is the converse true? In this case, we can inspect modulo 12,
\begin{align*}
    x \equiv 1 \mod 4 \Rightarrow x \equiv 1, &5, 9 \mod 12 \\
    x \equiv 2 \mod 3 \Rightarrow x \equiv 2, &5, 8, 11 \mod 12
\end{align*}
and we see that the converse is true for this case. However, this is not always the case. For instance, $x \equiv 1 \mod 4, \quad x \equiv 2 \mod 6$ does not work! (since $4$ and $6$ are coprime)

\begin{nthm}[Chinese Remainder Theorem]\label{th:2-12}
    Let $m, n$ be coprime, let $a, b \in \Z$. Then there is a unique solution modulo $mn$ to the simultaneous congruence
    \[
        x \equiv a \mod m \quad \text{and} \quad x \equiv b \mod n  
    \]
\end{nthm}

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 8: 21/10/2023
%%%%%%%%%%%%%%%%%%%%%%

\begin{proof}\leavevmode
    \begin{description}
        \item [(Existence)] Since $(m,n) = 1$, $\exists s, t \in \Z$ such that
        \[
            sm + tn = 1    
        \]
        Note that 
        \begin{align*}
            sm \equiv 1 \mod n \quad&\quad tn \equiv 1 \mod m\\
            sm \equiv 0 \mod m \quad&\quad tn \equiv 0 \mod n\\
        \end{align*}
        Hence, we can use these equations to pick out the congruences we want.
        \begin{align*}
            x = a(tn) + b(sm) &\equiv a \mod m \\
            &\equiv b \mod n  
        \end{align*}
        \item [(Uniqueness)] Suppose $y$ is also a solution, that is $y \equiv a \mod m, y \equiv b \mod n$. Then,
        \begin{align*}
            &\Leftrightarrow y \equiv x \mod m \quad\wedge\quad y \equiv x \mod n \\
            &\Leftrightarrow m \mid y - x \quad\wedge\quad n \mid y - x \\
            &\Leftrightarrow mn \mid y - x \tag{Since $(m,n) = 1$} \\
            &\Leftrightarrow mn \mid y - x \mod mn \\
            &\Leftrightarrow y \equiv x \mod mn 
        \end{align*}
    \end{description}
\end{proof}

\begin{remark}
    Theorem \ref{th:2-12} can be extended by induction, to more than two moduli. If $m_1, m_2, \cdots, m_k$ are pariwise coprime, then $\forall a_1, a_2, \cdots a_k \in \Z, \exists x \in \Z$ such that
    \begin{align*}
        x \equiv a_1 &\mod m_1 \\
        x \equiv a_2 &\mod m_2 \\ 
        &\vdots \\
        x \equiv a_n &\mod m_n
    \end{align*}
\end{remark}

\begin{defi}[Euler Totient]
    We denote $\varphi(m)$ to be the number of integers $a$ with $1 \leq a \leq m$ such that $(a, m) = 1$, that is $\varphi(m)$ is the number of units modulo $m$.
    $\varphi$ is known as the Euler totient function.
    By convention,
    \[
        \varphi(1) =  1  
    \]
\end{defi}

\begin{eg}
    $\varphi(p) = p - 1$ for prime $p$ and $\varphi(pq) = pq - p - q + 1$ when $p, q$ are distinct primes. In this case out of all $pq$ numbers there are $p$ many multiples of $q$ and $q$ many multiples of $p$ to be removed. We add $1$ to account for $pq$ occuring in both counts. We see that
    \[
        \varphi(pq) = pq - p - q + 1 = (p-  1)(q - 1) = \varphi(p) \varphi(q)
    \]
\end{eg}

\begin{question}
    How do powers of an integer behave modulo $p$?
    Let's consider modulo $7$,
    \begin{center}
        \begin{tabular}{ccccc}
            $2^1$ & $2^2$ & $2^3$ & $2^4$ & $\cdots$\\
            \hline 
            $2$ & $4$ & $1$ & $2$ & $\cdots$
        \end{tabular}
    \end{center}
    How about modulo $11$?
    \begin{center}
        \begin{tabular}{cccccccccc}
            $2^1$ & $2^2$ & $2^3$ & $2^4$ & $2^5$ & $2^6$ & $2^7$ & $2^8$ & $2^9$ & $2^{10}$ \\
            \hline 
            $2$ & $4$ & $8$ & $5$ & $10$ & $9$ & $7$ & $3$ & $6$ & $1$
        \end{tabular}
    \end{center}
\end{question}

\begin{nthm}[Fermat's Little Theorem]\label{th:2-13}
    Let $p$ be a prime, then
    \[
        a^p \equiv a \mod p \qquad \forall a \in \Z  
    \]
    Equivalently,
    \[
        a^{p-1} \equiv 1 \mod p \qquad \forall a \neq 0 \in \Z
    \]
\end{nthm}

\begin{proof}
    If $a$ is non-zero, then $a$ is a unit mod $p$.
    \[
        ax \equiv ay \mod p \Leftrightarrow x \equiv y \mod p  
    \]
    Hence, the numbers $a, 2a, 3a, \cdots, (p-1)a$ are pairwise incongruent modulo $p$.
    Also, $a \neq 0$, so they are infact $1, 2, \cdots, p-1$ in some order.
    Hence,
    \begin{align*}
        a \cdot 2a \cdots (p-1)a \equiv 1 \cdot 2 \cdots (p-1) \mod p \\
        \Rightarrow a^{p-1}(p-1)! \equiv (p-1)! \mod p
    \end{align*}
    But $(p-1)!$ is a unit modulo $p$ since it is a product of units. 
    Therefore we may cancel it to obtain
    \[
        a^{p-1} = 1 \mod p  
    \]
\end{proof}

\begin{thm}[Fermat-Euler Theorem]
    Let $(a,m) = 1$. Then
    \[
        a^{\varphi(m)} \equiv 1 \mod m  
    \]
\end{thm}
\begin{proof}
    Let 
    \[
        u = \crbkt{x \in \Z \mid 0 < x < m, (x, m) = 1}  
    \]
    be the $\varphi(m)$ numbers $<m$ that are coprime to $m$. 
    Label them $u_1, u_2, \cdots, u_{\varphi(m)}$.
    Then
    \[
        au_1, au_2, \cdots, au_{\varphi(m)}
    \]
    are all distinct modulo $m$ and invertible (since $a$ is a unit).
    Hence they are just $u_1, u_2, \cdots, u_{\varphi(m)}$ is some order.
    It follows that
    \begin{align*}
        au_1 \cdot au_2 \cdots au_{\varphi(m)} \equiv u_1 \cdot u_2 \cdots u_{\varphi(m)} \mod m \\
        \Rightarrow a^{\varphi(m)} \prod_{i=1}^{\varphi(m)} u_i \equiv \prod_{i=1}^{\varphi(m)} u_i \mod m
    \end{align*}
    Where $\prod_{i=1}^{\varphi(m)} u_i$ is a unit modulo $m$ since it is a product of units.
    Therefore we may cancel,
    \[
        a^{\varphi(m)} \equiv 1 \mod m  
    \]
\end{proof}

\begin{question}
    What is $(p-1)! \mod p$?
    When $p = 5$, $4! = 24 \equiv -1 \mod 5$.
    When $p = 7$, $6! = 720 \equiv -1 \mod 7$.  
\end{question}

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 9: 24/10/2023
%%%%%%%%%%%%%%%%%%%%%%

\begin{nlemma}\label{lem:2-14}
    Let $p$ ne a prime. Then
    \[
        x^2 \equiv 1 \mod p \Leftrightarrow x \equiv \pm 1 \mod p  
    \]
\end{nlemma}
\begin{proof}
    We seek to show that
    \[
        x^2 \equiv 1 \mod p \Leftrightarrow (x+1)(x-1) \equiv 0 \mod p
    \]
    Recall proposition \ref{prop:2-4}: If $p$ is prime and $p \mid ab$ then $p \mid a$ or $p \mid b$.
    So if $p$ is prime, then 
    \[
        ab \equiv 0 \mod p \Leftrightarrow a \equiv 0 \text{ or } b \equiv 0 \mod p
    \]
    Hence,
    \begin{align*}
        x^2 \equiv 1 \mod p &\Leftrightarrow x^2 - 1 \equiv 0 \mod p \\
        &\Leftrightarrow (x + 1)(x - 1) \equiv 0 \mod p \\
        &\Leftrightarrow x + 1 \equiv 0 \text{ or } x - 1 \equiv 0 \mod p
    \end{align*}
\end{proof}
\begin{remark}
    A more general fact is true, a non-zero polynomial of degree $k$ over $\Z_p$ has at most $k$ roots in $\Z_p$.
\end{remark}

\begin{nthm}[Wilson's Theorem]
    \[
        (p-1)!  \equiv -1 \mod p 
    \]
\end{nthm}
\begin{proof}
    It is easily checked for $p=2$, so we assume that $p > 2$.
    Note that the units modulo $p$ come in pairs whose product is $1$, together with some elements that are self inverse; i.e. elements $x$ such that
    \[
        x^2 \equiv 1 \mod p  
    \]
    By Lemma \ref{lem:2-14}, the elements that are self inverse are precisely $\pm 1$, so the remaining $p - 3$ elements (units) of $\Z_p$ come in inverse pairs.
    Hence, $(p - 1)!$ is a product of $\frac{p - 3}{2}$ pairs of mutual inverses together with $+1$ and $-1$, so
    \[
        (p - 1) ! \equiv -1 \mod p  
    \]
\end{proof}

\begin{question}
    When is $-1$ a square modulo $p$? (if ever).
    When $p = 5$, $2^2 = 4 \equiv -1 \mod 5$ and $3^2 = 9 \equiv -1 \mod 5$.
    When $p = 7$, there are no examples.
    When $p = 13$, $5^2 \equiv -1 \mod 13$
\end{question}

\begin{nprop}
    Let $p$ be a prime, then $-1$ is a square modulo $p$ if and only if 
    \[
        p \equiv 1 \mod 4  
    \]
\end{nprop}
\begin{proof}
    Suppose $p \equiv 1 \mod 4$.
    By Wilson's Theorem $(p - 1)! \equiv -1 \mod 4$, where
    \begin{align*}
        (p-1)! \equiv& 1 \times 2 \times 3 \cdots \frac{p-1}{2} \frac{p + 1}{2} \cdots (p - 3)(p - 2)(p - 1) \\
        \equiv& \sqbkt{1 \times 2 \times 3 \cdots \frac{p-1}{2}}^2 (-1)^{\frac{p - 1}{2}} \\
        \equiv& \bkt{1 \times 2 \times 3 \cdots \frac{p-1}{2}}^2
    \end{align*}
    If $p = 4k + 1$ for some $k \in \Z^+$,
    \begin{align*}
        \frac{p-1}{2} = 2k \\
        \therefore -1 \equiv \bkt{\frac{p - 1}{2}!}^2 \mod p
    \end{align*}
    So $-1$ is a square modulo $p$.

    Suppose, on the contrary that $p \equiv -1 \mod 4$, i.e, $p = 4k + 3$ for some $k \in \Z^+$. 
    If $-1$ were a square modulo $p$, then there would be some $z \in Z$ such that $z^2 \equiv -1 \mod p$.
    Then, by Fermat's little theorem,
    \begin{alignat*}{3}
        1 \equiv z^{p -1} &\equiv z^{4k + 2} &&\mod p \\
        &\equiv z^{2(2k + 1)} &&\mod p \\
        &\equiv (-1)^{2k + 1} &&\mod p \\
        &\equiv -1 &&\mod p \qquad  \contradiction
    \end{alignat*}
\end{proof}
\begin{remark}
When $p \equiv 1 \mod 4$, Wilson's Theorem tells us a solution to $x^2 \equiv -1 \mod p$.
For example, $p = 29$, so $x = 14!$ works. 
\end{remark}

\subsection{Public Key Cryptography}
Let us agree to write messages as sequences of numbers. For example, one possible scheme would be to encode
\begin{center}
    \begin{tabular}{c|c|c|c|c|c}
        A & B & $\cdots$ & Z & ! & $\cdots$ \\
        \hline
        $00$ & $01$ & $\cdots$ & $25$ & $26$ & $\cdots$
    \end{tabular}
\end{center}
I wish for each of the IA students to be able to send messages in encrypted form in such a way that I can decrypt them easily but the same is not true for any third party.
We use the RSA encryption scheme.

\begin{defi}[RSA Scheme (Rivest, Shamir, Adleman)]\leavevmode
    \begin{itemize}
        \item I think of two large primes $p$ and $q$.
        \item I let $n$ be the product of $p$ and $q$ and pick an encoding exponent $e$ such that $e$ is coprime to $\varphi(n) = (p-1)(q-1)$
        \item Publish the pair of numbers $(n, e)$ which is called my encryption scheme.
    \end{itemize}
\end{defi}

\begin{description}
    \item[To send me an encrypted message]\leavevmode
    \begin{itemize}
        \item you chop your message into number $M < n$
        \item you send the number
        \[
            M^e \mod n  
        \]
        which can be computed quickly by repeated squaring and applying $\mod n$
    \end{itemize}
    
    \item[To decrypt the message]\leavevmode
    \begin{itemize}
        \item I work out the decoding exponent $d$ such that
        \[
            ed \equiv 1 \mod \sqbkt{\varphi(n)} 
        \]
        We can do this via Euclid's Algorithm
        \item I compute
        \[
            (M^e)^d \equiv M^{k \varphi(n) + 1} \equiv M \mod n 
        \]
        Note that this uniquely determines $M$ as $M < n$.
    \end{itemize}
\end{description}
\begin{proof}
    \[
        M^{ed} \equiv 1 \mod pq  
    \]
    If $(M,n) = 1$, then by Fermat-Euler
    If $(M, n) \neq 1$ then $M \equiv 0 \mod p$ or $M \equiv 0 \mod q$.
    We will show that $M^{ed} \equiv m \mod p$ and $M^{ed} \equiv m \mod q$
    \begin{enumerate}[cases]
        \item $M \equiv 0 \mod p \Rightarrow M^{ed} \equiv 0 \mod p$.
        
        $M \not \equiv 0 \mod q$, then
        \[
            M^{ed} \equiv M^{ed - 1}M \equiv M^{k \varphi(n)} M \equiv M^{k' (q-1)} M \equiv M \mod q
        \]
        By Fermat's Little theorem.

        \item $M \equiv 0 \mod q \Rightarrow M^{ed} \equiv 0 \equiv M \mod q$.
        
        $M \not \equiv 0 \mod p$, then
        \[
            M^{ed} \equiv M^{ed - 1}M \equiv M^{k \varphi(n)} M \equiv M^{k' (p-1)} M \equiv M \mod p
        \]
        By Fermat's Little theorem.
    \end{enumerate}

    Therefore $M^{ed} \equiv M \mod p$ and $M^{ed} \equiv M \mod q$.
    By the Chinese Remainder Theorem, let $\alpha p + \beta q = 1$
    \[
        M^{ed} = M(\alpha p) + M(\beta q) \equiv M \mod pq
    \]
\end{proof}

\begin{remark}
    In order to decrypt in this way, I needed $n$ and $d$, or $n, e$ and $\varphi(n)$.
    Finding $\varphi(n)$ is as difficult as finding the prime factors of $n$ which is believed to be computationally hard.
    It is not know if RSA can be broken without factorisation.
\end{remark}

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 10: 26/10/2023
%%%%%%%%%%%%%%%%%%%%%%

\section{The Reals}
So far we have seen that
\[
    \N \subset \Z \subset \Q
\]
Where we moved to $\Z$ in search of an inverse for addition, and we moved to $\Q$ in search of an inverse for multiplication.
Where does the need for the reals arise?

\begin{nprop}
    There is no rational $x$ with $x^2 = 2$.
\end{nprop}
\begin{proof} (1) 
    Suppose $x^2 = 2$, note that we may assume that $x > 0$ since $(-x)^2 = x^2$.
    If $x$ is rational, then $x = \frac{a}{b}$ for some $a, b \in \N$.
    Then
    \[
        x^2 = \frac{a^2}{b^2} = 2 \Leftrightarrow a^2 = 2 b^2  
    \]
    If a prime factor occurs in $a^2$, then it occurs with an even power.
    Therefore the exponent of $2$ in the prime factorisation of $a^2$ is even, likewise for $b^2$.
    However, $2b^2$ has an odd power in its prime factorisation.
    This contradicts the Fundamental Theorem of Arithmetic $\contradiction$.
\end{proof}
\begin{remark}
    The same proof shows that if $x^2 = n$ for some $n \in \N$, then for $x \in \Q$, $n$ must be square.
\end{remark}

\begin{proof} (2)
    Suppose these exists $x = \frac{a}{b}$ such that $x^2 = 2$ for $a, b \in \N$.
    Then given any integers $c, d \in \Z$, $cx + d$ is of the form $\frac{e}{b}$ for some $e \in \Z$.
    Thus, if $cx + d > 0$, then $cx + d \geq \frac{1}{b}$.
    But 
    \[
        0 < x - 1 < 1  
    \]
    So for sufficiently large $n$,
    \[
        0 < (x - 1)^n < \frac{1}{b}  
    \]
    But for any $n \in \N$, $(x - 1)^N$ is of the form $cx + d$ for some $c, d \in \Z$ since $x^2 = 2$. $\contradiction$ 
\end{proof}

So ``$\Q$ has a gap''. How do we express this fact making reference only to $\Q$.
What are we saying about $\sqrt{2}$? $2$ is the upper bound for the set of $x$ such that $x^2 < 2$,
but so is $1.5$, $1.42$, $1.41421356$, all of which are $\in \Q$.

\begin{remark}[Crucial Point]
    In $\Q$, this set has no least upper bound.
    It is in this sense that $\Q$ has a gap.
    In $\R$ we will say that $\R$ has no gaps of this kind.
\end{remark}

\subsection{The Reals}
\begin{defi}[Real Numbers]
    The \emph{real numbers} $\R$ are a set with elements $0, 1$ where $(0 \neq 1)$,
    equipped with $2$ operations $+$ and $\cdot$ and an ordering $<$ satisfying the following.
    \begin{enumerate}[label=(\arabic*)]
        \item $+$ is commutative and associative with identity $0$ and every $x$ has an inverse under $+$.
        \item $\cdot$ is commutative and associative with identity $1$ and every non-zero $x$ has an inverse under $\cdot$.
        \item $\cdot$ is distributive over addition, that is $\forall a, b, c$
        \[
            a(b + c) = ab + ac    
        \]
        Therefore $\R$ is a field.
        \item $\forall a, b$ exactly one of $a < b$ or $a > b$ or $a = b$ holds.
        Further, $\forall a, b, c$ if $a < b$ and $b < c$ then $a < c$ (Transitivity)
        \item $\forall a, b, c$ if 
        \[
            a < b \Rightarrow a + c < b + c
        \]
        and
        \[
            a < b \Rightarrow ac < bc  
        \]
        if $c > 0$.
        \item Given any set $S$ of reals that is non-empty and bounded above, $S$ has a least upper bound.
        (Known as the least upper bound axiom)
    \end{enumerate}
\end{defi}

\begin{defi}[Bounded above]
    We say that a set $S$ is bounded above if $\exists x \in \R$ such that
    \[
        x \geq y \qquad \forall y \in S
    \]
    Such an $x$ is called an upper bound for $S$.
\end{defi}

\begin{defi}[Least upper bound]
    We say that $x$ is a least upper bound for $S$ if $x$ is the upper bound for $S$ such that every other upperbound $x'$
    \[
        x' \geq x
    \]
    Such a least upper bound is unique. If $x$ and $y$ are both least upperbounds then
    \[
        x \geq y \quad \text{ and } y \geq x \Rightarrow x = y
    \]
    When $x$ is a least upperbound for $S$ we may write
    \[
        \sup(S) = x  
    \]
\end{defi}

\begin{remark}\leavevmode
    \begin{enumerate}
        \item From (1) - (5) we can check that $0 < 1$.
        \begin{proof}
            Indeed if not, then $0 > 1$ since $0 \neq 1$.
            Then,
            \begin{align*}
                0 -1 > 1 - 1 \\
                \Rightarrow -1 > 0
            \end{align*}
            Hence $-1 > 0$ and by (5), we can multiply by it on both sides,
            \[
                1 = -1 \times (-1) > (-1) \times 0 = 0   
            \]
            which is a contradiction. $\contradiction$
        \end{proof}
        \item We may consider $\Q$ as contained in the reals by identifying $\frac{a}{b} \in \Q$ with $a \cdot b^{-1} \in \R$.
        \item $\Q$ does not satisfy (6) as 
        \[
            s = \crbkt{x \in \Q \mid x^2 < 2}  
        \]
        does not have a supremum in $\Q$
        \item Justifying non-empty and bounded above. They are crucial!
        If $S$ is empty, then every real $x \in \R$ is an upperbound for $S$, so there is no least upper bound.
        If $S$ is not bounded above, then it has no upper bound, and certainly no least upper bound.
        \item It is possible to construct out of $\Q$ and check that axioms hold.
        But let's just say it takes effort (Dedekind Cuts)
    \end{enumerate}
\end{remark}

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 11: 28/10/2023
%%%%%%%%%%%%%%%%%%%%%%

\begin{eg}\leavevmode
    \begin{enumerate}[label=(\arabic*)]
        \item $S = \crbkt{x \in \R \mid 0 \leq x \leq 1}$.
        Is $2$ an upper bound for $S$? Yes.
        \[
            \forall x \in S, \quad x \leq S  
        \]
        If $\frac{3}{4}$ an upper bound for $S$? No. 
        Take for instance $\frac{7}{8} \in S$ and $\frac{7}{8} > \frac{3}{4}$.
        The least upperbound is $1$ because,
        \begin{enumerate}[label=(\roman*)]
            \item $1$ is an upper bound $\forall x \in S$, $x \leq 1$
            \item Every other upper bound $y$ is such that $y \geq 1$. as ($1 \in \S$)
        \end{enumerate}
        Hence $\sup(S) = 1$

        \item $S = \crbkt{x \in \R \mid 0 < x < 1}$
        \begin{enumerate}[label=(\roman*)]
            \item $2$ is an upper bound $\forall x \in S$, $x \leq 2$
            \item $\frac{3}{4}$ is not an upper bound $\frac{7}{8} \in S$ and $\frac{7}{8} > \frac{3}{4}$
        \end{enumerate}
        We have $\sup(S) = 1$
        \begin{enumerate}[label=(\roman*)]
            \item $1$ is an upper bound (as $\forall x \in S$, $x < 1$)
            \item no upper bound $c$ is such that $c < 1$.
            \begin{proof}
                Suppose that exists such a $c$.
                Indeed $c$ is certianly greater than $0$.
                In fact we can argue that $c$ has to be at least $\frac{1}{2}$, since $\frac{1}{2} \in S$,
                then if $c < 1$, then $0 < c < 1$, then
                \[
                    \frac{c + 1}{2} \in S  
                \]
                However,
                \[
                    c < \frac{c + 1}{2} < 1
                \]
                which contradicts $c$ being an upper bound.
            \end{proof}
        \end{enumerate}

        \begin{warning}
            Note that $1$ is not an element of $S$. 
            If $S$ has a greatest element then
            \[
                \sup(S) = \max(S)  
            \]
            however, the supremum exists even when there is no greatest element, in which case
            \[
                \sup(S) \notin S  
            \]
        \end{warning}

        \item $s = \crbkt{0, \frac{1}{2}, \frac{2}{3}, \frac{3}{4}, \cdots} = \crbkt{1 - \frac{1}{n} \mid n \in \N}$
        Clearly, $1$ is an upper bound. Is there an upper bound $< 1$?
    \end{enumerate}
\end{eg}

\begin{nprop}[Axiom of Archimedes]\label{prop:3-2}
    (not really an axiom...) $\N$ is not bounded above in $\R$.
\end{nprop}
\begin{proof}
    Suppose on the contrary that $\N$ is bounded above.
    Let $c = \sup(\N)$.
    By definition of $c$ as a supremum, $c - 1$ is not an upper bound for $\N$,
    so
    \[
        \exists c \in \N \text{ such that } n > c - 1  
    \]
    But then
    \[
        n + 1 \in \N \text{ with } n + 1 > c  
    \]
    contradicts the fact that $c$ was an upper bound. $\contradiction$.
\end{proof}
\begin{remark}
    Hence we say that there are arbitrarily large number $n \in \N$
\end{remark}

\begin{ncor}\label{cor:3-3}
    For any $t > 0$, $\exists n \in \N$ such that $\frac{1}{n} < t$.
    In other words, there are arbitrarily small real numbers.
\end{ncor}
\begin{proof}
    Given $t > 0$, by proposition \ref{prop:3-2}, $\exists n \in \N$ such that $n > \frac{1}{t}$.
    Hence, $\frac{1}{n} < t$.
\end{proof}

\begin{defi}[Bounded below]
    A set $S$ is said to be \emph{bounded below} if $\exists x$ such that $x \leq y, \forall y \in S$.
    Such an $x$ is called a lower bound for $S$. 
\end{defi}

\begin{defi}[Greatest lowest bound]
    If $S$ is non-empty and bounded below, then the set 
    \[
        -S = \crbkt{-y \mid y \in S}  
    \]
    is non empty and bounded above, and hence it has a least upper bound, say $c$.
    Hence, $-c$ is the \emph{greatest lower bound} for $S$.
    We denote it by 
    \[
        \inf (S)  
    \]
\end{defi}

Corollary \ref{cor:3-3} immediately implies that
\[
    \inf \bkt{\crbkt{\frac{1}{n} \mid n \in \N}} = 0
\]
proposition \ref{prop:3-2} and corollary \ref{cor:3-3} show that there are no ``infinitely large'' or ``infinitely small'' numbers in $\R$.

Going back to example (3):
\[
    \sup \bkt{\crbkt{1 - \frac{1}{n} \mid n \in \N}} = 1
\]
For suppose $c < 1$ is an upper bound for $S$. Then $1 - \frac{1}{n} \leq c$ $\forall n \in \N$,
so $0 < 1 - c < \frac{1}{n}$ $\forall n \in \N$ since $c < 1$, but this contradicts corollary \ref{cor:3-3}. $\contradiction$

\begin{nthm}
    There exists $x \in \R$ with $x^2 = 2$
\end{nthm}
\begin{proof}
    Let $S = \crbkt{x \in \R \mid x^2 < 2}$.
    Note that $S$ is non empty since $1 \in S$. $S$ is bounded above by $2$.
    Hence $S$ has a supremum, which we denote $c$.
    Observe $1 < c < 2$. We claim $c^2 = 2$.
    Suppose that $c^2 < 2$.
    For $0 < t < 1$ we have
    \[
        (c + t)^2 = c^2 + 2ct + t^2 < c^ + 4t + t = c^2 + 5t  
    \]
    For sufficiently small $t$ ($t \leq \frac{2 - c^2}{5}$), then
    \[
        (c + t)^2 \leq c^2 + 5t \leq 2  
    \]
    which contradicts that $c$ is an upper bound. $\contradiction$
    Suppose $c^2 > 2$. For $0 < t < 1$ we have
    \[
        (c - t)^2 = c^2 - 2ct + t^2 > c^2 - 4t + 0 \geq 2  
    \]
    for sufficiently small $t \leq \frac{c^2 - 2}{4}$.
    This contradicts the assumption that $c$ is the least upper bound for $S$.
    Since $(c - t) \leq c$ and $c - t$ is an upper bound for $S$. $\contradiction$
\end{proof}

\begin{remark}
    The same proof shows that $\sqrt[n]{x}$ exists $\forall n \in N$ and $\forall x \in \R$
    such that $x$ is positive.
    \[
        \forall n \in \N, \forall x \in \R, x \geq 0 \Rightarrow \exists y \in \R \text{ such that } y^n = x  
    \]
\end{remark}

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 12: 31/10/2023
%%%%%%%%%%%%%%%%%%%%%%

\begin{defi}[Irrational]
    A real that is not rational is called \emph{irrational}.
    For instance the following are irrational 
    \[
        \sqrt{2}, \sqrt{3}, \sqrt{7}, \sqrt{15}, \cdots
    \]
\end{defi}
\begin{remark}
    Also, $2 + 3 \sqrt{5}$ is irrational.
    Indeed suppose that $2 + 3 \sqrt{5} = \frac{a}{b}$ for $a, b \in \N$.
    Then, $\sqrt{5} = \frac{a - 2b}{3b} \in \Q$ which is a contradiction. $\contradiction$ 
\end{remark}

\begin{prop}[Dense]
    The rationals are \emph{dense} in $\R$, in the sense that $\forall a, b \in \R$ where $a < b$
    \[
        \exists c \in \Q \text{ with } a < c < b
    \]
\end{prop}
\begin{proof}
    We may assume that $0 < a$, as we can always shift a negative problem to above $0$.
    By corollary \ref{cor:3-3}, $\exists n \in N$ such that $\frac{1}{n} < b - a$.
    Let
    \[
        T = \crbkt{k \in \N \mid \frac{k}{n} \geq b}  
    \]
    by the Axiom of Archimedes, $\exists N$ such that $N > b$.
    Hence, $nN \in T$, so $T \neq \emptyset$.
    By the Well-Ordering Principle, $T$ has a least element $m$.
    Set $c = (m-1) \frac{1}{n}$.
    Since $m -1 \notin T$, $c < b$.
    If $c \leq a$ then 
    \[
        \frac{m}{n} = c + \frac{1}{n} < a + (b - a) = b  
    \]
    which is a contradiction. $\contradiction$
\end{proof}

\begin{prop}
    The irrationals are also \emph{dense} in $\R$, i.e,
    \[
        \forall a < b \in \R \quad \exists c \in \R \setminus \Q  
    \]
    with $a < c < b$.
\end{prop}
\begin{proof}
    Indeed take a rational $c$ such that (we can do this since the rationals are dense)
    \[
        a \sqrt{2} < c < b \sqrt{2}  
    \]
    then,
    \[
        a < \frac{c}{\sqrt{2}} < b  
    \]
\end{proof}

\subsection{Sequences}
\begin{defi}
    A \emph{sequence} is an enumerated collection of objects in which repititions are allowed and the order matters. 
    Write 
    \[
        a_1, a_2, a_3, \cdots \text{ or } (a_n)_{n=1}^\infty  
    \]
    We will assume that sequences have infinitely many elements, unless told otherwise.
\end{defi}

What does it mean for a sequence $a_1, a_2, a_3, \cdots$ to ``tend'' to a limit $l$.
It is not enough that the terms get closer and closer to $l$. 
For example, we would not want
\[
    0, \frac{1}{2}, \frac{2}{3}, \frac{3}{4}, \frac{4}{5}, \cdots
\]
to tend to $37$.

Also, it is not enough that the terms get ``arbitrarily close'' to $l$, 
in the sense that $\forall \epsilon > 0$, $\exists n \in \N$ such that 
\[
    l - \epsilon < a_n < l + \epsilon
\]
For example, we would not want
\[
    0, 10, \frac{1}{2}, 10, \frac{2}{3}, 10, \frac{3}{4}, 10, \frac{4}{5}, \cdots
\]
to tend to $1$.

We want the sequence to get and stay within $\epsilon$ of $l$. 
Formally, the sequence $a_1, a_2, a_3, \cdots$ tend to the limit $l \in \R$ as $n \rightarrow \infty$ if
\[
    \forall \epsilon > 0, \exists N \in \N, \text{ such that } \forall n > N, \quad l - \epsilon < a_n < l + \epsilon
\]
More compactly written,
\[
    \forall \epsilon > 0, \exists N \in \N, \forall n > N, \abs{a_n - l} < \epsilon
\]

\begin{defi}[Absolute value]
    Where the \emph{absolute value} $\abs{x}$ of $x \in \R$ is defined by
    \[
        \abs{x} = \begin{cases}
            x & \text{ if } x \geq 0 \\
            -x & \text{ if } x < 0
        \end{cases}  
    \]
    We think if $\abs{a - b}$ as the distance between the numbers $a$ and $b$ on $\R$.
\end{defi}
\begin{eg}
    \[
        \abs{2 - 9} = \abs{9 - 2} = 7  
    \]
\end{eg}

\begin{prop}[Triangle inequality]
    It is easy to check that the \emph{triangle inequality} holds, $\forall a, b, c \in \R$
    \[
        \abs{a - c} \leq \abs{a - b} + \abs{b - c}  
    \]
\end{prop}

\begin{defi}[Convergence \& Diverges]
    When $(a_n)_{n=1}^\infty$ tends to a limit $l$ as $n$ tends to $\infty$ we write
    \begin{itemize}
        \item $a_n \rightarrow \infty$ as $n \rightarrow \infty$ 
        \item $\lim_{n \rightarrow \infty} a_n = l$
        \item $(a_n)_{n=1}^\infty$ converges to $l$.
    \end{itemize}
    If there is a limit $l$ but is not specified, we simply say ``$(a_n)_{n=1}^\infty$ converges''.
    If $(a_n)_{n=1}^\infty$ does not converge, then we say it diverges.
\end{defi}

\begin{eg}\leavevmode
    \begin{enumerate}[label=(\roman*)]
        \item Consider the following sequence 
        \[
            0, \frac{1}{2}, \frac{2}{3}, \frac{3}{4}, \cdots
        \]
        the $n^{th}$ term of this sequence is $a_n = 1 - \frac{1}{n}$.
        Given some $\epsilon > 0$, choose $N > \frac{1}{\epsilon}$.
        If $n \geq N$, then
        \[
            \abs{a_n - 1} = \abs{1 - \frac{1}{n} - 1} = \frac{1}{n} \leq \frac{1}{N} < \epsilon  
        \]
        Hence $a_n \rightarrow 1$ as $n \rightarrow \infty$.

        \item Consider the following sequence
        \[
            0, \frac{1}{2}, 0, \frac{1}{4}, 0, \frac{1}{6}, \cdots    
        \]
        The $n^{th}$ term is given by
        \[
            a_n = \begin{cases}
                \frac{1}{n} & n \text{ is even}\\
                0 & n \text{ is odd}
            \end{cases}  
        \]
        Given some $\epsilon > 0$, choose $N > \frac{1}{\epsilon}$.
        If $n \geq N$, then 
        \[
            \abs{a_n - 0} \leq \frac{1}{n} \leq \frac{1}{N} \leq \epsilon
        \]
        Hence $a_n \rightarrow 0$ as $n \rightarrow \infty$.

        \item Consider the following sequence
        \[
            \frac{1}{2}, \frac{1}{2} + \frac{1}{4}, \frac{1}{2} + \frac{1}{4} + \frac{1}{8}, \cdots 
        \]
        where the $n^{th}$ term is given by
        \[
            a_n = 1 - \frac{1}{2^n}
        \]
        Given $\epsilon > 0$ choose $N > \frac{1}{\epsilon}$.
        If $n \geq N$ then
        \[
            \abs{a_n -1} = \frac{1}{2^n} \leq \frac{1}{n} \leq \frac{1}{N} < \epsilon
        \]
        Hence $a_n \rightarrow 1$ as $n \rightarrow \infty$.
        \begin{remark}
            Note that we needed to guess the limit before proving it.
            Also, we get no extra points for finding the smallest $N$,
            so just find one that works!    
        \end{remark}

        \item Consider the following sequence,
        \[
            1, -1, 1, -1, \cdots
        \]
        where
        \[
            a_n = (-1)^n  
        \]
%%%%%%%%%%%%%%%%%%%%%%
% Lecture 13: 31/10/2023
%%%%%%%%%%%%%%%%%%%%%%
        If $a_n$ does not tend to $l$ we write 
        \[
            a_n \not \rightarrow l  
        \]
        This means 
        \[
            \exists \epsilon > 0, \forall N \in \N, \exists n \geq N \text{ such that } \abs{a_n - l} \geq \epsilon 
        \]
        Let us show that $a_n \not \rightarrow 0$
        Indeed let $\epsilon = 1$, observe that $\abs{a_N - 0} = 1 \forall N \in \N$.
        In fact, $a_n$ does not converge to any limit $l \in \R$.
        Suppose $a_n \rightarrow l$ as $n \rightarrow \infty$ for some $l \in \R$.
        Let $\epsilon = 1$, so 
        \[
            \exists N \in \N, \forall n \geq N, \abs{a_n - l} < 1  
        \]
        In particular,
        \[
            \abs{1 - l} < 1 \text{ and } \abs{-1 -l} < 1  
        \]
        Because of the triangle inequality
        \[
            2 = \abs{1 - (-1)} \leq \abs{1 - l} + \abs{-1 - l} < 2 \quad \contradiction
        \]
        Hence $((-1)^n)_{n=1}^\infty$ is divergent.
    \end{enumerate}
\end{eg}

\subsection*{Uniqueness of limit}
We implicitly assumed that if a limit exists, then it is unique.
Indeed suppose $a_n \rightarrow l$ and $a_n \rightarrow k$ where $l \neq k$.
Choose
\[
    \epsilon = \frac{1}{2} \abs{l - k}
\]
Then, $\exists N \in \N$ such that $\forall n \geq N$, $\abs{a_n - l} < \epsilon$,
but also, $\exists M \in \N$ such that $\forall m \geq M$, $\abs{a_n - l} < \epsilon$.

But then for any $n \geq \max \crbkt{N, M}$
\[
    2 \epsilon = \abs{l - k} \leq \abs{a_n - l} + \abs{a_n - k} < 2\epsilon \contradiction
\]

\begin{question}
    Can we show that a limit exists without finding the limit itself? Yes!
\end{question}
A sequence $(a_n)_{n=1}^\infty$ is bounded if $\exists b \in \R$ such that $\abs{a_n} \leq b$ $\forall n \in \N$.
Note that a convergent sequence is always bounded.
If $a_n \rightarrow l$ as $n \rightarrow \infty$ then $\exists N \in \N$ such that $\forall n > N$
\[
    \abs{a_n - l} < 1
\]
Hence,
\[
    \abs{a_n} \leq \max \crbkt{\abs{a_1}, \abs{a_2}, \abs{a_3}, \cdots \abs{a_N-1}, l + 1 }
\]
However, not all bounded sequences are convergent.

\begin{defi}[Monotonic]
    A sequence $(a_n)_{n=1}^\infty$ is monotonic if it is either increasing or decreasing.
    It is
    \begin{itemize}
        \item Increasing if $a_{n+1} \geq a_n$ $\forall n \in \N$
        \item Decreasing if $a_{n+1} \leq a_n$ $\forall n \in \N$
    \end{itemize}
\end{defi}

\begin{nthm}\label{th:3-5}
    Every bounded monotonic sequence converges.
\end{nthm}
\begin{remark}
    Note that this is not true in $\Q$. For example, decimal expansions of numbers
    \[
        1.4, 1.41, 1.414, \cdots  
    \]
    increases, but does not converge as $\sqrt 2 \notin \Q$!
    So we know that the least upper bound axiom is important. 
\end{remark}
\begin{proof}
    Suppose $(a_n)$ is increasing.
    Then the set
    \[
        S = \crbkt{a_n \mid n \geq 1}  
    \]
    is clearly non-empty as $a_1 \in S$.
    It is also bounded above since $(a_n)$ is bounded.
    So, by the least upper bound axiom,
    $S$ has a supremum, $l = \sup (S)$.
    Given $\epsilon > 0$, $l - \epsilon$ is not an upper bound for $S$, so $\exists N \in \N$ such that$\forall n \geq N$ $a_n > l - \epsilon$.
    Thus, $\forall n \geq N$
    \[
        l - \epsilon < a_n < l
    \]
    Hence $\forall n \geq N$, $\abs{a_n - l} < \epsilon$, so $a_n \rightarrow l$.
\end{proof}
\begin{remark}
    The decreasing case is similar. We can make use of this existing proof by using $-b_n$ for $b_n$ a decreasing sequence.
    \begin{enumerate}[label=(\arabic*)]
        \item Note that for an increasing sequence to converge, we only need to know that it is bounded above.
        \item The sequence $(a_n)_{n=1}^\infty$ with $a_n = n$ is increasing but it is not bounded. 
        If an increasing sequence diverges, it goes to $\infty$
        \item Theorem \ref{th:3-5} is in fact equivalent to the least upper bound axiom.
        \item It is possible to show that every sequence has a monotonic subsequence, (an infinite one!!)
    \end{enumerate}
\end{remark}

\begin{nprop}\label{prop:3-6}
    If $a_n \leq d$, $\forall n$ and $a_n \rightarrow c$ as $n \rightarrow \infty$ then $c \leq d$
\end{nprop}
\begin{proof}
    Suppsoe $c > d$,
    then let $\epsilon = \abs{c - d} > 0$.
    By the assumption that $a_n \rightarrow c$, $\exists N \in \N$ such that
    \[
        \forall n \geq N, \quad \abs{a_n - c} < \epsilon  
    \]
    But this then implies that $a_n > d$, which contradicts $d$ as an upper bound. $\contradiction$
\end{proof}
\begin{warning}
    If $a_n < d$ and $a_n \rightarrow c$ as $n \rightarrow \infty$ we need not have
    $c < d$, instead $c$ can be $\leq d$.
    For instance,
    \[
        \frac{1}{2}, \frac{1}{2} + \frac{1}{4}, \frac{1}{2} + \frac{1}{4} + \frac{1}{8}, \cdots   
    \]
    has each term $<1$ but a limit $=1$
\end{warning}

\begin{nprop}\label{prop:3-7}
    If $a_n \rightarrow c$ as $n \rightarrow \infty$ and $b_n \rightarrow d$ as $n \rightarrow \infty$
    then $a_n + b_n \rightarrow c + d$ as $n \rightarrow \infty$.
\end{nprop}
\begin{proof}
    Given $\epsilon >0$
    \begin{align*}
        \exists N \in \N \forall n \geq N, \quad \abs{a_n - c} < \frac{\epsilon}{2} \\
        \exists M \in \N \forall m \geq M, \quad \abs{b_n - d} < \frac{\epsilon}{2}
    \end{align*}
    Then choose $N^* = \max \crbkt{M, N}$ then for $n \geq N^*$
    \[
        \abs{a_n + b_n - (c + d)} \leq \abs{a_n - c} + \abs{b_n - d} \leq \epsilon  
    \]
    This is colloquially known as an ``epsilon over $2$'' argument.
\end{proof}

\subsection{Series}
In the reals, the sum of any $2$ numbers is defined.
So by induction, finite sums are defined. 
But \emph{infinite sums} apriori are not.
Nevertheless
\[
    1 - \frac{1}{2} + \frac{1}{3} - \frac{1}{4} + \frac{1}{5} \cdots = \ln 2    
\]
Let $(a_n)$ be a sequence. 
Then
\[
    S_k = \sum_{n=1}^{k} a_n
\]
is the $k^{th}$ partial sum of the series whose $n^{th}$ term is $a_n$.
We will write 
\[
    \sum_{n=1}^\infty a_n = \lim_{k \rightarrow \infty} S_k
\]
if the limit exists.

\begin{eg}\leavevmode
    \begin{enumerate}[label=(\arabic*)]
        \item The series whose $n^{th}$ term is $a_n = r^n$ for some $\abs{r} < 1$ is known as the geometric series.
        \[
            S_k = r + r^2 + r^3 + \cdots + r^k = \frac{r^{k+1} - r}{r - 1} = \frac{r(1 - r^k)}{1 - r}  
        \]
        Then the limit of the infinite sum
        \[
            \lim_{k \rightarrow \infty} S_k = \frac{r}{1 - r}  
        \]
        since $r^k \rightarrow 0$.
        Hence,
        \[
            \sum_{n=1}^{\infty} r^n = \frac{r}{1-r}  
        \]
%%%%%%%%%%%%%%%%%%%%%%
% Lecture 14: 04/11/2023
%%%%%%%%%%%%%%%%%%%%%%
        \item The series whose $n^{th}$ term is given by $a_n = \frac{1}{n}$ is known as the Harmonic Series.
        \[
            S_{2^k} = 1 + \frac{1}{2} + \underbrace{\frac{1}{3} + \frac{1}{4}}_{\text{each } \geq \frac{1}{4}} + \underbrace{\frac{1}{5} + \frac{1}{6} + \frac{1}{7} + \frac{1}{8}}_{\text{each } \geq \frac{1}{8}}  + \cdots + \frac{1}{2^k}
        \]
        By comparing terms, we can find a lower bound for $S_{2^k}$
        \[
            S_{2^k} \geq 1 + \frac{1}{2} + 2 \times \frac{1}{4} + 4 \times \frac{1}{8} + \cdots + 2^{k-1} \times \frac{1}{2^k}
        \]
        In general
        \[
            \frac{1}{2^m + 1} + \frac{1}{2^m + 2} + \cdots \frac{1}{2^{m+1}} \geq 2^m \times \frac{1}{2^{m+1}} = \frac{1}{2} 
        \]
        Hence,
        \[
            S_{2^k} \geq 1 + \frac{k}{2}  
        \]
        So the partial sums are increasing and unbounded so $\sum_{n=1}^{\infty} \frac{1}{n}$ diverges.

        \item $a_n = \frac{1}{n^2}$
        \[
            S_{2^k -1} = 1 + \underbrace{\frac{1}{2^2} + \frac{1}{3^2}}_{\leq 2 \times \frac{1}{2^2}} + \underbrace{\frac{1}{4^2} + \frac{1}{5^2} + \frac{1}{6^2} + \frac{1}{7^2}}_{\leq 4 \times \frac{1}{4^2}} + \cdots + \frac{1}{(2^k - 1)^2}   
        \]
        In general
        \[
            \frac{1}{(2^m)^2} + \frac{1}{(2^m + 1)^2} + \cdots + \frac{1}{(2^{m+1} -1)^2} \leq \frac{2^m}{(2^m)^2} = \frac{1}{2^m}  
        \]
        So
        \[
            S_{2^k -1} \leq 1 + \frac{1}{2} + \frac{1}{4} + \frac{1}{2^{k-1}} = \frac{1 - 2^{-k}}{\frac{1}{2}} < 2 
        \]
        By theorem \ref{th:3-5}, $\sum_{n=1}^{\infty} \frac{1}{n^2}$ converges and its partial sumsare increasing and bounded above.
        In fact,
        \[
            \sum_{n=1}^{\infty} \frac{1}{n^2} = \frac{\pi^2}{6}
        \]
    \end{enumerate}
\end{eg}

\subsection{Decimal Expansions}
Let $(d_n)$ be a sequence of digits with $d_n \in \crbkt{0, 1, 2, \cdots, 9}$.
Then $\sum_{n=1}^\infty \frac{d_n}{10^n}$ converges to some limit $x$, where $0 \leq x \leq 1$
because the partial sums
\[
    S_m = \sum_{n=1}^m \frac{d_n}{10^n}
\]
are increasing and bounded by
\[
    \sum_{n=1}^\infty \frac{9}{10^n} = \frac{\frac{9}{10}}{1 - \frac{1}{10}} = 1
\]
We say that $0.d_1d_2d_3\cdots$ is the decimal expansion of the limit $x$.
We have shown that given a decimal expansion we have a real number.
Next, we will show the converse, given a real number its decimal expansion exists.

\begin{question}
    Given a real $0 \leq x \leq 1$ does it have a decimal expansion?
\end{question}
Pick $d_1 \in \Z$ maximal such that
\[
    \frac{d_1}{10} \leq x \leq 1
\]
Then since $x < 1$, $0 \leq d_1 \leq 9$ and
\[
    0 \leq x - \frac{d_1}{10} < \frac{1}{10}
\]
because $d_1$ was chosen to be maximal.
Now pick $d_2$ such that
\[
    \frac{d_2}{100} \leq x - \frac{d_1}{10}
\]
Then $0 \leq d_2 \leq 9$ since 
\[
    0 \leq x - \frac{d_1}{10} < \frac{1}{10}
\]
and since $d_2$ is maximal, 
\[
    0 \leq x - \frac{d_1}{10} - \frac{d_2}{100} 
\]
Inductively, pick $d_n \in \Z$ maximal such that
\[
    \frac{d_n}{10^n} \leq x - \sum_{j=1}^{n-1} \frac{d_j}{10^j}
\]
so
\[
    0 \leq x - \sum_{j=1}^{n} \frac{d_j}{10^j} < \frac{1}{10^n}
\]
Since $\frac{1}{10^n} \rightarrow 0$ as $n \rightarrow \infty$
\[
    x - \sum_{j=1}^{n} \frac{d_j}{10^j} \rightarrow 0
\]
That is,
\[
    x = \sum_{j=1}^{\infty} \frac{d_j}{10^j} = 0.d_1d_2d_3\cdots
\]

\begin{remark}\leavevmode
    \begin{enumerate}[label=(\arabic*)]
        \item Decimal expansions need not be unique. For example
        \[
            0.47999\cdots = 0.4800\cdots  
        \]
        \begin{proof}
            Suppose $0.a_1a_2a_3\cdots = 0.b_1b_2b_3\cdots$.
            We may assume $a_j = b_j$ for $j < k$ for some $k$
            and $a_k < b_k$ wlog.
            Then,
            \[
                \sum_{j = k+1}^\infty \frac{a_j}{10^j} \leq \sum_{j = k+1}^\infty \frac{9}{10^j} = \frac{9}{10^{k + 1}}\frac{1}{1 - \frac{1}{10}} = \frac{1}{10^k}
            \]
            Hence, we must have that
            \[
                b_k = a_k + 1  
            \]
            (For if $b_k > a_k +1$ then
            \[
                b - a \geq 2 10^{-k} - 10^{-k} > 0  
            \])
            and $a_j = 9$, $b_j =0$ $\forall j > k$.
        \end{proof}

        \item A decimal expansion is periodic if after a finite number of terms, it repeats in blocks of length $k$.
        \[
            \exists l, k \text{ such that } d_{n+k} = d_n \qquad \forall n > l  
        \]
        A periodic decimal is rational.
        For example, $x = 0.7832147147147\cdots = \frac{7832}{10000} + 0.0000147147147\cdots$
        \begin{align*}
            \Rightarrow 10^4x - 7832 &= \frac{147}{10^3} + \frac{147}{10^6} + \cdots \\
            &= 147 \sum_{n=1}^\infty \frac{1}{10^{3n}} = 147 \times \frac{1}{10^3} \frac{1}{1- \frac{1}{10^3}}
        \end{align*}
        so $x \in \Q$.
        Conversely, if $x \in \Q$, it has a periodic decimal expansion. To see this we write
        \[
            x = \frac{p}{2^a5^b q}  
        \]
        where $a, b, p, q \in \Z$ and $a, b, q \geq 0$ and $(q, 10) = 1$.
        Therefore
        \[
            10^{\max \crbkt{a, b}} x = \frac{t}{q} = n + \frac{c}{q}  
        \]
        for $n, c \in \Z$ and $0 \leq c < q$.
        By Fermat-Euler Theorem, since $(q, 10) = 1$,
        \begin{align*}
            10^{\varphi(q)} \equiv 1 \mod q \\
            \Rightarrow 10^{\varphi(q)} - 1 = kq
        \end{align*}
        for some $k \in \N$.
        Hence,
        \[
            \frac{c}{q} = \frac{kc}{kq} = \frac{kq}{10^{\varphi(q)} - 1} = kc \sum_{j=1}^\infty \frac{1}{(10^{\varphi(q)})^j}
        \]
        with blocks of length $\varphi(q)$. We need to make sure that $kc < \varphi(q)$.
        Since $0 \leq kc \leq kq$ and $kq = 10^{\varphi(q)} - 1$,
        we can write $kc$ as a $\varphi(q)$ digit number $d_1d_2\cdots d_{\varphi(q)}$
        \[
            \therefore \quad \frac{c}{q} = 0.d_1d_2\cdots d_{\varphi(q)}d_1d_2\cdots d_{\varphi(q)} \cdots
        \]
        so $x$ is periodic.
    \end{enumerate}
\end{remark}

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 15: 07/11/2023
%%%%%%%%%%%%%%%%%%%%%%

\subsection{Eulers Number}
Define
\[
    e = 1 + \frac{1}{1!} + \frac{1}{2!} + \frac{1}{3!} + \frac{1}{4!} + \cdots  
\]
Note that by theorem \ref{th:3-5} this series converges, the sequence of partial sums is increasing and bounded above by
\[
    e < 1 + \frac{1}{2} + \frac{1}{4} + \frac{1}{8} + \cdots = 3
\]
If we define $0! = 1$ then
\[
    e = \sum_{j=0}^\infty \frac{1}{j!}
\]

\begin{nprop}\label{prop:3-8}
    $e$ is irrational.
\end{nprop}
\begin{proof}
    Suppose $e$ were rational, i.e $e = \frac{p}{q}$ where $p, q \in \N$ and $q > 1$ since $2 < e < 3$.
    Clearly, $q! \times e \in \N$, but 
    \[
        q! e = q! + q! + \frac{q!}{2!} + \frac{q!}{3!} + \cdots + \frac{q!}{q!} + \frac{q!}{(q+1)!} + \cdots  
    \]
    Therefore,
    \begin{align*}
        q!e &= N + x \text{ for some } N \in \N\\
        \text{ where } x &= \sum_{j=q+1}^{\infty} \frac{q!}{j!} = \sum_{j=1}^\infty \frac{q!}{(q + j)!} \\
        &= \frac{1}{q+1} + \frac{1}{(q+1)(q+2)} + \frac{1}{(q+1)(q+2)(q+3)} + \cdots
    \end{align*}
    In general
    \[
        \frac{q!}{(q + j)!} \leq \frac{1}{(q+1)^j}  
    \]
    Hence,
    \begin{align*}
        x &\leq \frac{1}{q +1} + \frac{1}{(q + 1)^2} + \frac{1}{(q + 1)^3} + \cdots \\
        &= \frac{1}{q + 1} \times \frac{1}{1 - \frac{1}{q + 1}} = \frac{1}{q}
    \end{align*}
    Since $q > 1$, $x < 1$.
    This contradicts the fact that $q!e$ was a natural number. $\contradiction$
    So $e$ is irrational
\end{proof}

\subsection{Algebraic and Transcendental numbers}
\begin{defi}[Algebraic]
    We way that a real number is \emph{algebraic} if it is a root of a non zero polynomial with integer coefficients. (or rational coefficients)
\end{defi}
\begin{eg}\leavevmode
    \begin{enumerate}[label=(\arabic*)]
        \item Every rational number is algebraic. 
        \[
            x = \frac{p}{q} \Rightarrow qx - p = 0  
        \]
        \item $\sqrt{2}$ is algebraic: it satisfies
        \[
            x^2 - 2 = 0
        \]
    \end{enumerate}
\end{eg}

\begin{defi}[Transcendental]
    A real number is \emph{transcendental} if it is not algebraic.
\end{defi}

\begin{nthm}[Louiville 1851]\label{th:3-9}
    The number
    \[
        L = \sum_{n=1}^\infty \frac{1}{10^{n!}}  
    \]
    if transcendental.
\end{nthm}
\begin{proof}
    We will need two facts about polynomials
    \begin{enumerate}[label=(\Alph*)]
        \item For any polynomial $p$, $\exists$ constant $k$ such that
        \[
            \abs{p(x) - p(y)} \leq k \abs{x - y}  \qquad \forall 0 \leq x, y \leq 1
        \]
        Indeed suppose
        \[
            p(x) = a_d x^d + \cdots + a_0  
        \]
        Then
        \begin{align*}
            p(x) - p(y) = a_d (x^d - y^d) + \cdots + a_1(x - y) \\
            \Rightarrow (x - y) \sqbkt{a_d(x^{d-1} + x^{d-2}y + \cdots + y^{d-1}) + \cdots + a_1}
        \end{align*}
        Hence,
        \[
            \abs{p(x) - p(y)} \leq \abs{x - y} \sqbkt{
                (\abs{a_d} + \abs{a_{d - 1}} + \cdots + \abs{a_1}) \times d
            }
        \]

        \item A non zero polynomial of degree $d$ has at most $d$ real roots.
        Indeed given a polynomial $p$ of degree $d$, we may assume by induction that the fact hold $\forall$ polynomials of degree $< d$,
        and also assume that $p$ has a root, $r$ say, otherwise we are done. 
        By long division we may write
        \[
            p(x) = (x - r)q(x)  
        \]
        where $q(x)$ is a polynomial of degree $<d = d-1$ so each root of $p$ is either $r$ or a root of $q(x)$.
        But by the inductive hypothesis, $q(x)$ has at most $d-1$ roots.
    \end{enumerate}
    Now we can proceed with the proof of theorem \ref{th:3-9}.
    Write
    \[
        L_n = \sum_{k=1}^n \frac{1}{10^{k!}}  
    \]
    so that $L_n \rightarrow L$ as $n \rightarrow \infty$.
    Suppose $L$ is not transcendental, then there exists a polynomial $p$ of which $L$ is a root.
    Then by fact (A), exists a constant $k$ such that $\forall 0 \leq x, y \leq 1$
    \[
        \abs{p(x) - p(y)} \leq k \abs{x - y}
    \]
    Note that
    \[
        \abs{L - L_n} = \sum_{k=n+1}^\infty \frac{1}{10^{k!}} \leq 2 \times \frac{1}{10^{(n+1)!}}
    \]
    Suppose $p$ has degree $d$.
    \[
        p(x) = a_d x^d + a_{d-1} x^{d-1} + \cdots + a_0  
    \]
    with $a_i \in \Z$ and $a_d \neq 0$. Notice that $L_n = \frac{s}{10^{n!}}$ for some $s \in \N$,
    so $p(L_n) = \frac{t}{10^{d(n!)}}$ for some $t \in \Z$.

    By fact (B), for sufficiently large $n$, $L_n$ is not a root of $p$, as there can only be $d$ roots of $p$.
    Hence,
    \[
        \abs{p(L_n)} \geq \frac{1}{10^{d(n!)}} 
    \]
    Applying fact (A) this gives,
    \[
        \abs{p(L_n) - p(L)} \geq \frac{1}{10^{d(n!)}} 
    \]
    Therefore,
    \[
        \frac{1}{10^{d(n!)}} \leq \abs{p(L_n) - p(L)} \leq k \abs{L - L_n} \leq k \times 2 \times \frac{1}{10^{(n+1)!}}
    \]
    This is a contradiction for sufficiently large $n$. $\contradiction$
\end{proof}

\begin{remark}\leavevmode
    \begin{enumerate}[label=(\arabic*)]
        \item The same proof shows that any real number $x$ such that $\forall n \in \N$, $\exists \frac{p}{q} \in \Q$
        such that
        \[
            0 < \abs{x - \frac{p}{q}} < \frac{1}{q^n}  
        \]
        is transcendental.
        \item Such numbers $x$ are known as Louiville numbers.
        \item This proof does not show that $e$ is transcendental, but it is.
        \item We will give another proof of the existence of transcendental numbers in the chapter 4.
    \end{enumerate}
\end{remark}

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 16: 09/11/2023
%%%%%%%%%%%%%%%%%%%%%%

\subsection{Complex Numbers}
Some polynomials have no real roots, e.g $x^2 + 1 = 0$.
We will try to define such a solution $x$ to $x^+1 = 0$ into existence. (such that it is contradiction free!)

The \emph{complex numbers} written $\C$ consist of $\R^2$ (the set of all ordered paris of real numbers $(a, b)$ for $a, b \in \R$)
together with operations $+$ and $\cdot$ defined by
\begin{itemize}
    \item $(a, b) + (c, d) = (a+c, b + d)$
    \item $(a, b) \cdot (c, d) = (ac - bd, bc + ad)$
\end{itemize}

We can use $\R$ as contained in $\C$ by identifying $a \in \R$ with
$(a, 0) \in \C$. Note that
\[
    (a, 0) + (b, 0) = (a+b, 0)
\]
and similarly
\[
    (a, 0) \cdot (b, 0) = (ab, 0)
\]
Now let $i = (0, 1)$. Then $i^2 = (-1, 0)$ which corresponds to $-1 \in \R$.
Note that every $z \in \C$ is of the form $a + bi$ for some real numbers $a, b \in R$.
Indeed,
\[
    (a, b) = (a, 0)(1, 0) + (b, 0)(0, 1) = a + bi
\]

\begin{remark}\leavevmode
    \item $\C$ obeys all the usual rules of arithmetic. 
    In particular, it obeys (1) - (3) set out for $\R$, including that for $z \neq 0 \in \C$, $\exists w$ such that $zw = 1$.
    Indeed, given $z = a + bi$, note that $(a + bi) \times (a - bi) = a^2 + b^2$, so
    \[
        (a + bi) \times \frac{a - bi}{a^2 + b^2} = 1  
    \]
    A structure obeying rules (1) - (3) is called a \emph{field}. For example,
    \[
        \C, \Q, \R, \Z_p  
    \]
    for $p$ a prime (but not $\Z$!)

    \item Every non-zero polynomial (even allowing complex coefficients) has a root in $\C$.
    This is known as the Fundamental Theorem of Algebra
\end{remark}

\section{Sets, Function and Relations}
\subsection{Sets}
A \emph{set} is a collection of mathematical objects. For example, $\R, \N, \crbkt{1, 5, 9} , (-2, 3]$.
The order of elements does not matter ``is immaterial'' and elements are counted to belong to the set only once.
For example,
\[
    \crbkt{1, 3, 7} = \crbkt{1, 7, 3} \text{ and } \crbkt{3, 4, 4, 8} = \crbkt{3, 4, 8}
\]
We write $x \in A$ if $x$ is an element of $A$ and $x \notin A$ if not.
Two sets are equal if they have the same elements. 
That is $A = B$ for sets $A$, $B$, if and only if $\forall x$
\[
    x \in A \Longleftrightarrow x \in B
\]
In particular, there is only one empty set $\emptyset$.

\begin{defi}[Subset]
    A set $B$ is a \emph{subset} of a set $A$, written 
    \[
        B \subseteq A  
    \]
    or 
    \[
        B \subset A \tag{strict inclusion}
    \]
    if every element of $B$ is an element of $A$. 
    $B$ is said to be a proper subset of $A$ if $B$ is contained in $A$ and $B \neq A$.
\end{defi}
One way of expressing that two sets are equal $A = B$ if
\[
    A \subseteq B \text{ and } B \subseteq A
\]
If $A$ is a set and $P$ is a property of some elements of $A$, then we can construct
\[
    \crbkt{x \in A \mid P(x)}
\]
for the subset of $A$ comprising those elements for which $P(x)$ holds.
\begin{eg}
    \[
        \crbkt{n \in \N \mid n \text{ is prime}}  = \crbkt{2, 3, 5, 7, \cdots} \in \N
    \]
\end{eg}

\begin{defi}[Union]
    If $A$ and $B$ are sets, then their \emph{union}, written
    \[
        A \cup B = \crbkt{x \mid x \in A \text{ or } x \in B}
    \]
\end{defi}

\begin{defi}[Intersection]
    Their \emph{intersection} written $A \cap B$ is defined to be
    \[
        A \cap B = \crbkt{x \mid x \in A \text{ and } x \in B}  
    \]
\end{defi}
\begin{remark}
    We can view interseection as a special case of subset selection
    \[
        A \cap B = \crbkt{x \in A \mid x \in B}  
    \]
\end{remark}

\begin{defi}[Set Difference]
    Similarly, we have \emph{set difference}
    \[
        A \setminus B = {x \in A \mid x \notin B}  
    \]
\end{defi}

Note that $\cap$ and $\cup$ are commutative and associative.
Also, $\cup$ is distributive over $\cap$. i.e
\[
    A \cup (B \cap B) = (A \cup B) \cap (A \cup C)
\]
and $\cap$ is distributive over $\cup$
\[
    A \cap (B \cup C) = (A \cap B) \cup (A \cap C)
\]
\begin{proof}
    To prove that
    \[
        A \cap (B \cup C) = (A \cap B) \cup (A \cap C)
    \]
    we will show that 
    \[
        \text{LHS} \subseteq \text{RHS} \text{ and } \text{RHS} \subseteq \text{LHS}
    \]
    If $x \in A \cap (B \cup C)$, then $x \in A$ and $x \in B \cup C$, 
    so $x \in A$ and ($x \in B$ or $x \in C$). 
    If $x \in B$ then $x \in A \cup B$,
    on the other hand if $x \in C$ then $x \in A \cup C$.
    In any case 
    \[
        x \in (A \cap B) \cup (A \cap C)
    \]
    Hence
    \[
        A \cap (B \cup C) \subseteq (A \cap B) \cup (A \cap C)  
    \]
    Conversely, asumme that $x \in (A \cap B) \cup (A \cap C)$, 
    then $x \in A \cap B$ or $x \in A \cap C$.
    If $x \in A \cap B$ then $x \in A$ and $x \in B$ and so $x \in B \cup C$.
    If $x \in A \cap C$ then $x \in A$ and $x \in C$ and so $x \in B \cup C$.
    So therefore
    \[
        x \in A \cap (B \cup C)
    \]
    Hence,
    \[
        (A \cap B) \cup (A \cap C) \subseteq A \cap (B \cup C) 
    \]
    Therefore the two sets are equal
\end{proof}

Suppose $A_1, A_2, \cdots$ are sets, then
\[
    \bigcap_{n=1}^\infty A_n = A_1 \cap a_2 \cap a_3 \cap \cdots = \crbkt{x \mid x \in A_n \quad \forall n \in \N}
\]
Similarly, 
\[
    \bigcup_{n=1}^\infty A_n = A_1 \cup a_2 \cup a_3 \cup \cdots = \crbkt{x \mid x \in A_n \quad \text{ for some } n \in \N}
\]

\begin{warning}
    $\bigcup_{n=1}^\infty A_n$ is not the limit of anything!
    More generally, given any index set $I$ and a collection of sets $A_i$ that are indexed by $i \in I$, we write
    \[
        \bigcap_{i \in I} A_i = \crbkt{x \mid x \in A_i \quad \forall i \in I}
    \]
    and
    \[
        \bigcup_{i \in I} A_i = \crbkt{x \mid x \in A_i \quad \text{ for some } i \in I}
    \]
\end{warning}

\begin{defi}[Cartesian Product]
    Given sets $A$ and $B$, we can form their \emph{cartesian product}
    \[
        A \times B = \crbkt{(a, b) \mid a \in A \text{ and } b \in B}  
    \]
    which is the set of ordered pairs $(a, b)$ with $a \in A$ and $b \in B$.
    Note that we can define the ordered pair $(a, b)$ as $\crbkt{\crbkt{a, b}, a}$.
    We can extend this definition to ordered triples and so on. For example,
    \[
        \R^3 = \R \times \R \times \R = \crbkt{(a, b, c) \mid x, y, z \in \R}
    \]
\end{defi}

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 17: 11/11/2023
%%%%%%%%%%%%%%%%%%%%%%

\begin{defi}[Power set]
    For any set $X$, we can form the \emph{power set} $\wp(X)$ consisting of all subsets of $X$.
    \[
        \wp(X) = \crbkt{Y \mid Y \subseteq X}
    \]
\end{defi}
\begin{eg}
    If $X = \crbkt{1, 2}$ then
    \[
        \wp(X) = \crbkt{\{1\}, \{2\}, \{1, 2\}}  
    \]
\end{eg}
\begin{warning}
    Given a set $A$, we can form the set of elements
    \[
        \crbkt{x \in A \mid P(x)}  
    \]
    for any property $P$, but we cannot form
    \[
        \crbkt{x \mid P(x)}  
    \]
    Indeed suppose
    \[
        X = \crbkt{x \mid x \text{ is a set and } x \not in x}  
    \]
    were a set.
    Then $X \in X \Rightarrow X \notin X \contradiction$.
    On the otherhand $X \notin X \Rightarrow X \in X \contradiction$.
    This is known as Russell's paradox. 
    Similarly, there is no ``universal set'' $Y$, meaning a set $Y$ such that $\forall x$, $x \in Y$
    otherwise we could form $X$ above by subset selection.

    Therefore, to garuntee that a set exists, it should be obtained from known sets $\N, \R$ in one of the ways discussed.
\end{warning}

\subsection{Finite sets}
Write
\[
    \N_0 = \N \cup \crbkt{0} = \crbkt{0, 1, 2, 3, \cdots}
\]
Given $n \in \N_0$ we say a set $A$ has size $n$ if
\[
    A = \crbkt{a_1, a_2 \cdots, a_n}
\]
with elements $a_i$ distinct.
For example, $\crbkt{1, 3, 7}$ has  size $3$, and $\emptyset$ has size $0$.
We say that $A$ is finite if $\exists n \in \N_0$ such that $A$ has size $n$,
otherwise $A$ is infinite.

\begin{nprop}\label{prop:4-1}
    A set of size $n$ has exactly $2^n$ subsets
\end{nprop}
\begin{proof} (1)
    We may assume that our set is $\crbkt{1, 2, \cdots, n}$.
    To specify a subset $S$ of $\crbkt{1, 2, \cdots, n}$, we must specify if $1 \in S$ or $1 \notin S$,
    if $2 \in S$ or $2 \notin S$, and so on. 
    Hence the number of choices for $S$ is
    \[
        \underbrace{2}_{1 \in S ?} \times\underbrace{2}_{2 \in S ?} \times \underbrace{2}_{3 \in S ?} \times \cdots \times \underbrace{2}_{n \in S ?} =2^n 
    \]
\end{proof}

\begin{proof} (2)
    By induction on $n$. Clearly this is true for $n = 0$.
    Given $n > 0$, and a subset $T \subseteq \{1, 2, \cdots, n-1\}$,
    how many $S \subseteq \{1, 2, \cdots, n\}$ are there such that
    \[
        S \cap \{1, 2, \cdots, n-1\} = T  
    \]
    There are exactly $2$, namely $T$ and $T \cup \{n\}$.
    Hence the number of subsets of $\{1, 2, \cdots, n\}$
    \begin{align*}
        =& 2 \times \text{\# of subsets of } \{1, 2, \cdots, n-1\} \\
        =& 2 \times 2^{n-1} \tag{by inductive hypothesis}\\
        =& 2^n
    \end{align*}
\end{proof}

If a set $A$ has size $n$ we write ``$\abs{A} = n$'' or ``$\#A = n$''. 
So proposition \ref{prop:4-1} says that
\[
    \abs{A} = n \Longrightarrow \wp(A) = 2^n
\]

\begin{defi}[Binomial Coefficient]
    Given $n \in \N_0$ and $0 \leq k \leq n$ we write $\binom{n}{k}$ ``$n$ choose $k$'' for the number of subsets of an $n$-element set that are of size $k$.
    In otherwords,
    \[
        \binom{n}{k} = \abs{\{S \subseteq \{1, \cdots, n\}\mid \abs{S} = k\}}    
    \]
    We call $\binom{n}{k}$ a binomial coefficient.
\end{defi}
\begin{eg}
    Subsets of size $2$ of $\{1, 2, 3, 4\}$ are precisely,
    \[
        \{1, 2\}, \{1, 3\}, \{1, 4\}, \{2, 3\}, \{2, 4\}, \{3, 4\} 
    \]
    Therefore
    \[
        \binom{4}{2} = 6  
    \]
\end{eg}
Note that by definition
\[
    \binom{n}{0} = 1, \binom{n}{n} = 1, \binom{n}{1} = n \tag{for $n > 0$} 
\]
and
\[
    \binom{n}{0} + \binom{n}{1} + \cdots + \binom{n}{n} = 2^n
\]
Also, we have $\forall n \in \N_0$ and $0 \leq k \leq n$
\[
    \binom{n}{k} = \binom{n}{n - k}
\]
For example, $\binom{8}{5} = \binom{8}{3}$.
Indeed specifying which $k$ elements to pick is the same as specifying which $n-k$ elements not to pick.
Moreover $\forall n \in \N$ and $1 \leq k \leq n-1$,
\[
    \binom{n}{k} = \binom{n-1}{k-1} + \binom{n-1}{k}
\]
For example, $\binom{8}{3} = \binom{7}{2} + \binom{7}{3}$.
Indeed the number of subsets of $\{1, 2, \cdots, n\}$ of size $k$ that do not include $n$ is $\binom{n-1}{k-1}$,
and the number of subsets that do include $n$ is $\binom{n-1}{k-1}$.

\begin{defi}[Pascal's triangle]
    We obtain \emph{Pascal's triangle}
    \begin{center}
        \begin{tabular}{>{$n=}l<{$\hspace{12pt}}*{13}{c}}
            0 &&&&&&&1&&&&&&\\
            1 &&&&&&1&&1&&&&&\\
            2 &&&&&1&&2&&1&&&&\\
            3 &&&&1&&3&&3&&1&&&\\
            4 &&&1&&4&&6&&4&&1&&\\
            5 &&1&&5&&10&&10&&5&&1&\\
            6 &1&&6&&15&&20&&15&&6&&1
        \end{tabular}
    \end{center}
    Each row starts and ends with a $1$ and the remaining entries are the sum of the terms above.
\end{defi}

\begin{nprop}\label{prop:4-2}
    \[
        \binom{n}{k} = \frac{n(n-1)(n-2)(n-3) \cdots (n - k + 1)}{k (k-1) (k-2) \cdots 2 \times 1} = \frac{n!}{k!(n-k)!}  
    \]
\end{nprop}
\begin{proof}
    Given a set of size $n$, there are
    \[
        n(n-1)(n-2)(n-3) \cdots (n - k + 1)
    \]
    ways to pick $k$ elements in order, one by one.
    But each subset of $k$ is picked
    \[
        k (k-1) (k-2) \cdots 2 \times 1
    \]
    ways by this method.
    Hence, the number of subsets of size $k$ in $\{1, 2, \cdots, n\}$ is
    \[
        \frac{n(n-1)(n-2)(n-3) \cdots (n - k + 1)}{k (k-1) (k-2) \cdots 2 \times 1} 
    \]
\end{proof}
\begin{remark}
    Note that this formula tells us that, for example
    \begin{itemize}
        \item $\binom{n}{2} = \frac{n(n-1)}{2} \sim \frac{n^2}{2}$
        \item $\binom{n}{3} = \frac{n(n-1)(n-2)}{3!} \sim \frac{n^3}{6}$
    \end{itemize}
\end{remark}

\begin{nthm}\label{th:4-3}
    For all $a, b \in \R$, $n \in \N$
    \[
        (a + b)^n = \binom{n}{0} a^n + \binom{n}{1} a^{n-1} b + \cdots + \binom{n}{n-1} a^1b^{n-1} +\binom{n}{n} b^n  
    \]
\end{nthm}
\begin{proof}
    When we expand $(a + b)^n = (a + b)(a + b) \cdots (a + b)$,
    we obtain terms of the form $a^{n - k}b^k$ for $0 \leq k \leq n$,
    and the number of terms of that form is precisely $\binom{n}{k}$ as we must specify $k$ brackets from which to pick $b$.
    Hence, 
    \[
        (a + b)^n = \sum_{k=0}^n \binom{n}{k} a^{n - k}b^k 
    \]
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 18: 14/11/2023
%%%%%%%%%%%%%%%%%%%%%%
\begin{eg}
    \[
        (1 + x)^n = 1 + nx + \frac{n(n-1)}{2} x^2 + \binom{n}{3} x^3 + \cdots + \binom{n}{n} x^n  
    \]
    so for small $x$, a good approximation for $x \ll 1$ is $1 + nx$.
    For example,
    \[
        (1.00001)^2 \approx 1.00008  
    \]
    A better approximation would be $1 + nx + \frac{n(n-1)}{2} x^2$
    \[
        (1.00001)^2 \approx 1.00008 + 28 \times(0.00001)^2
    \]
\end{eg}

\begin{question}
    What can we say about the relationship between sizes of unions and intersections of finite sets.
    For example,
    \[
        \abs{A \cup B} = \abs{A} + \abs{B} - \abs{A \cap B}  
    \]
    Also,
    \[
        \abs{A \cup B \cup C} = \abs{A} + \abs{B} + \abs{C} - \abs{A \cap B} - \abs{B \cap C}- \abs{C \cap A} + \abs{A \cap B \cap C}  
    \]
\end{question}

\begin{nthm}[Inclusion-Exclusion Principle]\label{th:4-4}
    Let $S_1, S_2, \cdots, S_n$ be finite sets, then
    \begin{align*}
        \abs{S_1 \cup S_2 \cup \cdots \cup S_n} = \sum_{\abs{A} = 1} \abs{S_A} &- \sum_{\abs{A} = 2} \abs{S_A} + \sum_{\abs{A} = 3} \abs{S_A} - \cdots \\ 
        &+ (-1)^{n-1} \sum_{\abs{A} = n} \abs{S_A}
    \end{align*}
    Where
    \[
        S_A = \bigcap_{i \in A} S_i  
    \]
    and $\sum_{\abs{A} = k}$ is taken over all $A \subseteq \{1, 2, \cdots, n\}$ of size $k$.
    Equivalently,
    \[
        \abs{\bigcup_{i=1}^n S_i} = \sum_{r = 1}^n (-1)^{r + 1} \sum_{\substack{
            A \subseteq \{1, \cdots, n\} \\ 
            \abs{A} = r
        }} \abs{\bigcap_{i \in A} S_i} 
    \]
\end{nthm}
\begin{proof}
    Let $x \in S_1 \cup S_2 \cup \cdots \cup S_n$. 
    Say $x \in S_i$ for $k$ of the $S_i$, we want $x$ to be counted exactly once in the RHS of the formula.
    Indeed,
    \[
        \#\{A \mid \abs{A} = 1 \text{ with } x \in S_A\} = k  
    \]
    and
    \[
        \#\{A \mid \abs{A} = 2 \text{ with } x \in S_A\} = \binom{k}{2}  
    \]
    In general,
    \[
        \#\{A \mid \abs{A} = r \text{ with } x \in S_A\} = \binom{k}{r}
    \]
    for $r \leq k$ and $=0$ when $r > k$.
    Thus, the number of times $x$ is counted by the RHS is
    \begin{align*}
        k - \binom{k}{2} + \binom{k}{3} - \binom{k}{4} + \cdots + (-1)^{k+1} \binom{k}{k} \\
        = 1 - \bkt{1 - k + \binom{k}{2} + \cdots + (-1)^k \binom{k}{k}} \\
        = 1 - (1 - 1)^k \\
        = 1
    \end{align*}
\end{proof}

\subsection{Functions}

Given sets $A$ and $B$ a function $f$ from $A$ to $B$ is a ``rule'' that assigns to every element $x \in A$ a unique element $f(x) \in B$.
More formally, a function from $A$ to $B$ is a subset of
\[
    f \subseteq A \times B
\]
such that $\forall x \in A$, there is a unique $y \in B$ such that $(x, y) \in f$.
If $f$ is a function from $A$ to $B$ we write
\begin{align*}
    f : A &\rightarrow B \\
    x &\mapsto f(x) = y
\end{align*}
if $(x, y) \in f$.

\begin{eg}\leavevmode
    \begin{enumerate}[label=(\arabic*)]
        \item \begin{align*}
            f : \R &\rightarrow \R \\
            x &\mapsto x^2
        \end{align*}
        is a function.

        \item \begin{align*}
            f : \R &\rightarrow \R \\
            x &\mapsto \frac{1}{x}
        \end{align*}
        is not a function. $f(0) = ?$

        \item \begin{align*}
            f : \R &\rightarrow \R \\
            x &\mapsto \pm \sqrt{\abs{x}}
        \end{align*}
        is not a function. $f(x)$ is not unique.

        \item \begin{align*}
            f : \R &\rightarrow \R \\
            x: &\mapsto \begin{cases}
                1 & \text{ if } x \in \Q \\
                0 & \text{ otherwise}
            \end{cases}
        \end{align*}
        is a function.

        \item $f: \{1, 2, 3, 4, 5\} \rightarrow \{1, 2, 3, 4\}$ given by,
        \begin{center}
            \begin{tikzpicture}
                \foreach[count=\i] \lseti/\lsetmi in {A/{$1$,$2$,$3$,$4$, $5$},B/{$1$, $2$, $3$, $4$}} {
                    \begin{scope}[local bounding box=\lseti, x=2cm, y=0.5cm]
                    \foreach[count=\j] \lj in \lsetmi {
                        \node[minimum width=1em] (n-\j-\lseti) at (\i,-\j) {\lj};
                    }
                    \end{scope}
                    \node[ellipse, draw, fit=(\lseti), 
                    label={[name=l-\lseti]above:$\lseti$}] {};
                }
                \draw[->] (n-1-A) -- (n-1-B);
                \draw[->] (n-2-A) -- (n-3-B);
                \draw[->] (n-3-A) -- (n-1-B);
                \draw[->] (n-4-A) -- (n-3-B);
                \draw[->] (n-5-A) -- (n-4-B);
            \end{tikzpicture}
        \end{center}

        \item $f: \{1, 2, 3\} \rightarrow \{1, 2, 3\}$ given by,
        \begin{center}
            \begin{tikzpicture}
                \foreach[count=\i] \lseti/\lsetmi in {A/{$1$,$2$,$3$},B/{$1$, $2$, $3$}} {
                    \begin{scope}[local bounding box=\lseti, x=2cm, y=0.5cm]
                    \foreach[count=\j] \lj in \lsetmi {
                        \node[minimum width=1em] (n-\j-\lseti) at (\i,-\j) {\lj};
                    }
                    \end{scope}
                    \node[ellipse, draw, fit=(\lseti), 
                    label={[name=l-\lseti]above:$\lseti$}] {};
                }
                \draw[->] (n-1-A) -- (n-1-B);
                \draw[->] (n-2-A) -- (n-3-B);
                \draw[->] (n-3-A) -- (n-2-B);
            \end{tikzpicture}
        \end{center}

        \item $f: \{1, 2, 3\} \rightarrow \{1, 2, 3, 4\}$ given by,
        \begin{center}
            \begin{tikzpicture}
                \foreach[count=\i] \lseti/\lsetmi in {A/{$1$,$2$,$3$},B/{$1$, $2$, $3$, $4$}} {
                    \begin{scope}[local bounding box=\lseti, x=2cm, y=0.5cm]
                    \foreach[count=\j] \lj in \lsetmi {
                        \node[minimum width=1em] (n-\j-\lseti) at (\i,-\j) {\lj};
                    }
                    \end{scope}
                    \node[ellipse, draw, fit=(\lseti), 
                    label={[name=l-\lseti]above:$\lseti$}] {};
                }
                \draw[->] (n-1-A) -- (n-1-B);
                \draw[->] (n-2-A) -- (n-4-B);
                \draw[->] (n-3-A) -- (n-2-B);
            \end{tikzpicture}
        \end{center}

        \item $f: \{1, 2, 3, 4\} \rightarrow \{1, 2, 3\}$ given by,
        \begin{center}
            \begin{tikzpicture}
                \foreach[count=\i] \lseti/\lsetmi in {A/{$1$,$2$,$3$,$4$},B/{$1$, $2$, $3$}} {
                    \begin{scope}[local bounding box=\lseti, x=2cm, y=0.5cm]
                    \foreach[count=\j] \lj in \lsetmi {
                        \node[minimum width=1em] (n-\j-\lseti) at (\i,-\j) {\lj};
                    }
                    \end{scope}
                    \node[ellipse, draw, fit=(\lseti), 
                    label={[name=l-\lseti]above:$\lseti$}] {};
                }
                \draw[->] (n-1-A) -- (n-3-B);
                \draw[->] (n-2-A) -- (n-3-B);
                \draw[->] (n-3-A) -- (n-1-B);
                \draw[->] (n-4-A) -- (n-2-B);
            \end{tikzpicture}
        \end{center}
    \end{enumerate}
\end{eg}

\begin{defi}[Injective]
    We say that $f: A \rightarrow B$ is \emph{injective} if $\forall a, a' \in A$
    \[
        a \neq a' \Longrightarrow f(a) \neq f(a')  
    \]
    (distinct elements stay distinct).
    Equivalently $f$ is injective if
    \[
        f(a) = f(a') \Longrightarrow a = a'  
    \]
    (every element in $B$ has at most $1$ arrow going into it)
\end{defi}
\begin{eg}
    From the examples above, (5) and (8) are not injective, but (6) and (7) are.
\end{eg}

\begin{defi}[Surjective]
    We say that $f: A \rightarrow B$ is \emph{sujective} if $\forall b \in B$, $\exists a \in A$ such that
    \[
        f(a) = b  
    \]
    (Everything on the RHS is ``hit'' by something from $A$).
\end{defi}
\begin{eg}
    (5) and (7) are not surjective but (6) and (8) are.
\end{eg}

\begin{defi}[Bijective]
    We say that $f: A \rightarrow B$ is \emph{bijective} if it is both surjective an injective.
\end{defi}
\begin{eg}
    (6) is the only bijection on our list. 
    If $f: A \rightarrow B$ is bijective then everything in $B$ is ``hit'' exactly once. 
    (that is, $f$ pairs the elements of $A$ and $B$)
\end{eg}

\begin{defi}[Permutation]
    A \emph{permutation} of $A$ is a bijection $f: A \rightarrow A$.
\end{defi}

\begin{defi}[Domain \& Codomain]
    Given $f: A \rightarrow B$, we say that $A$ is the \emph{domain} and $B$ is the \emph{codomain}.
\end{defi}

\begin{defi}[Image]
    The \emph{image} of $f$ is the set
    \[
        f(A) = \crbkt{f(a) \mid a \in A} = \crbkt{b \in B \mid f(a) = b \text{ for some } a \in A}  
    \]
    The image of $f$ is denoted by $\im(f)$
\end{defi}
\begin{eg}
    Consider the function
    \begin{align*}
        f: \R &\rightarrow \R \\
        x &\mapsto x^2
    \end{align*}
    then 
    \[
        \im(f) = \crbkt{y \in \R \mid y \geq 0}  
    \]
\end{eg}
\begin{warning}
    When specifying a function, we must specify its domain and codomain. 
    For instance, the question ``Is the function $f(x) = x^2$ injective?'' is meaningless as
    $f: \N \rightarrow N$ would be injective, but $f: \Z \rightarrow \Z$ would not be.
\end{warning}
\begin{remark}\leavevmode
    \begin{enumerate}[label=(\arabic*)]
        \item $f$ is surjective if and only if $f(A) = B$. 
        In particular if $\abs{B} > \abs{A}$ then there can be no surjective function from $A \rightarrow B$

        \item There is no injection from $A \rightarrow B$ if $\abs{A} > \abs{B}$
%%%%%%%%%%%%%%%%%%%%%%
% Lecture 19: 16/11/2023
%%%%%%%%%%%%%%%%%%%%%%
        \item If $f: A \rightarrow A$, then $f$ is injective if and only if $f$ is surjective.
        \item There is no bijection from $A$ to any proper subset of $A$.
    \end{enumerate}
\end{remark}
Note that (3) and (4) do not hold for infinite sets:
\begin{enumerate}[label=(\alph*)]
    \item Consider the following map
    \begin{align*}
        f: \N &\rightarrow \N \\
        x &\mapsto x + 1
    \end{align*}
    it is injective but not surjective.
    \begin{center}
        \begin{tikzpicture}
            \foreach[count=\i] \lseti/\lsetmi in {A/{$1$,$2$,$3$,$\vdots$},B/{$1$, $2$, $3$, $4$, $\vdots$}} {
                \begin{scope}[local bounding box=\lseti, x=2cm, y=0.5cm]
                \foreach[count=\j] \lj in \lsetmi {
                    \node[minimum width=1em] (n-\j-\lseti) at (\i,-\j) {\lj};
                }
                \end{scope}
                \node[ellipse, draw, fit=(\lseti), 
                label={[name=l-\lseti]above:$\lseti$}] {};
            }
            \draw[->] (n-1-A) -- (n-2-B);
            \draw[->] (n-2-A) -- (n-3-B);
            \draw[->] (n-3-A) -- (n-4-B);
            \draw[->, densely dotted] (n-4-A) -- (n-5-B);
        \end{tikzpicture}
    \end{center}

    \item Consider the following map
    \begin{align*}
        g: \N &\rightarrow \N \\
        x &\mapsto \begin{cases}
            x - 1 & \text{ if } x \neq 1 \\
            1 & \text{ if } x = 1
        \end{cases}
    \end{align*}
    it is surjective but not injective.
    \begin{center}
        \begin{tikzpicture}
            \foreach[count=\i] \lseti/\lsetmi in {A/{$1$,$2$,$3$,$\vdots$},B/{$1$, $2$, $3$, $\vdots$}} {
                \begin{scope}[local bounding box=\lseti, x=2cm, y=0.5cm]
                \foreach[count=\j] \lj in \lsetmi {
                    \node[minimum width=1em] (n-\j-\lseti) at (\i,-\j) {\lj};
                }
                \end{scope}
                \node[ellipse, draw, fit=(\lseti), 
                label={[name=l-\lseti]above:$\lseti$}] {};
            }
            \draw[->] (n-1-A) -- (n-1-B);
            \draw[->] (n-2-A) -- (n-1-B);
            \draw[->] (n-3-A) -- (n-2-B);
            \draw[->, densely dotted] (n-4-A) -- (n-3-B);
        \end{tikzpicture}
    \end{center}

    \item Consider the following map
    \begin{align*}
        h : \N & \rightarrow \N \setminus \{ 1 \}\\
        x &\mapsto x + 1
    \end{align*}
    is a bijection from $\N$ to a proper subset of itself.
    \begin{center}
        \begin{tikzpicture}
            \foreach[count=\i] \lseti/\lsetmi in {A/{$1$,$2$,$3$,$\vdots$},B/{$2$, $3$, $4$, $\vdots$}} {
                \begin{scope}[local bounding box=\lseti, x=2cm, y=0.5cm]
                \foreach[count=\j] \lj in \lsetmi {
                    \node[minimum width=1em] (n-\j-\lseti) at (\i,-\j) {\lj};
                }
                \end{scope}
                \node[ellipse, draw, fit=(\lseti), 
                label={[name=l-\lseti]above:$\lseti$}] {};
            }
            \draw[->] (n-1-A) -- (n-1-B);
            \draw[->] (n-2-A) -- (n-2-B);
            \draw[->] (n-3-A) -- (n-3-B);
            \draw[->, densely dotted] (n-4-A) -- (n-4-B);
        \end{tikzpicture}
    \end{center}
\end{enumerate}

\begin{eg}[Further Examples]\leavevmode
    \begin{enumerate}
        \item For any set $X$, we say 
        \begin{align*}
            \Id_x: X &\rightarrow X \\
            x &\mapsto x
        \end{align*}
        is the identity function on $X$.

        \item Given a set $X$ and some subset $A \subseteq X$, we have the indicator function, or characteristic function of $A$
        \begin{align*}
            I_A : X &\rightarrow \{0, 1\} \\
            x &\mapsto \begin{cases}
                1 & \text{ if } x \in A \\
                0 & \text{ otherwise}
            \end{cases}
        \end{align*}

        \item A sequence of reals $x_1, x_2, \cdots$ is a function from $\N$ to $\R$, $n \mapsto x_n$.
        \item The operation $+$ on $\N$ is a function
        \begin{align*}
            \N \times \N &\rightarrow \N \\
            (a , b) &\mapsto a + b
        \end{align*}

        \item A set $X$ has size $n$ if and only if there is a bijection between the set
        \begin{align*}
            \{1, 2, \cdots, n\} &\rightarrow X = \{a_1, a_2, \cdots, a_n\} \\
            i &\mapsto a_i
        \end{align*}
        this function identifies every element with it's index.
    \end{enumerate}
\end{eg}

\begin{defi}[Function composition]
    Given $f: A \rightarrow B$ an $g: B \rightarrow C$, the composition
    \[
        g \circ f
    \]
    is a function from $A \rightarrow C$ and is defined by
    \begin{align*}
        g \circ f : A &\rightarrow C \\
        a &\mapsto g(f(a))
    \end{align*}
    We say that this is ``$g$ composed with $f$'' or ``$g$ after $f$''.
\end{defi}
\begin{eg}
    Take
    \begin{align*}
        f: \R &\rightarrow \R \\
        x &\mapsto 2x
    \end{align*}
    and
    \begin{align*}
        g: \R &\rightarrow \R \\
        x &\mapsto x + 1
    \end{align*}
    then $g \circ f = g(2x) = 2x + 1$ and $f \circ g = f(x + 1) = 2x + 2$.
\end{eg}
\begin{remark}
    Note that they are not the same. 
    In general, function composition is not commutative.
    In the example above, 
    \[
        f \circ g \neq g \circ f  
    \]
    since
    \[
        f \circ g(1) = 4 \neq 3 = g \circ f(1) 
    \]
    However, function composition is associative, given 
    \begin{itemize}
        \item $f: A \rightarrow B$
        \item $g: B \rightarrow C$ 
        \item $h: C \rightarrow D$
    \end{itemize}
    we have 
    \[
        h \circ (g \circ f) = (h \circ g) \circ f  
    \]
    Indeed for every $x \in A$,
    \begin{align*}
        (h \circ (g \circ f))(x) = h((g \circ f)(x)) = h(g(f(x))) \\
        ((h \circ g) \circ f)(x) = (h \circ g)(f(x)) = h(g(f(x)))
    \end{align*}
    Therefore it is associative.
    We may therefore drop the brackets and write $h \circ g \circ f$ without any ambiguity.
\end{remark}

\begin{defi}[Invertible]
    We say that $f: A \rightarrow B$ is \emph{invertible} if $\exists g: B \rightarrow A$ such that
    \[
        g \circ f = \Id_A \text{ and } f \circ g = \Id_B
    \]
\end{defi}
\begin{eg}
    Consider
    \begin{align*}
        f : \R &\rightarrow \R \\
        x &\mapsto 2x + 1
    \end{align*}
    and
    \begin{align*}
        g : \R &\rightarrow \R \\
        x &\mapsto \frac{x - 1}{2}
    \end{align*}
    Indeed, $\forall x \in \R$, 
    \[
        (g \circ f)(x) = g(2x + 1) = \frac{2x + 1 - 1}{2} = x  
    \]
    Therefore $g \circ f = \Id_{\R}$.
    Also, $\forall x \in \R$
    \[
        (f \circ g)(x) = f \bkt{\frac{x-1}{2}} = x  
    \]
    Therefore $f \circ g = \Id_{\R}$.
    Hence $f$ is invertible with inverse $g$.
\end{eg}

\begin{warning}
    Consider the following two maps
    \begin{align*}
        f : \N &\rightarrow \N \\
        x &\mapsto x + 1
    \end{align*}
    and
    \begin{align*}
        g : \N &\rightarrow \N \\
        x &\mapsto \begin{cases}
            x - 1 & \text{ if } x \neq 1 \\
            1 & \text{ if } x = 1
        \end{cases}
    \end{align*}
    We have that $g \circ f = \Id_{\N}$, but $f \circ g \neq \Id_{\N}$ because $(f \circ g)(1) = 2$.
\end{warning}

\begin{question}
    Given $f: A \rightarrow B$, when is there a map $g: B \rightarrow A$ such that $g \circ f = \Id_A$?
\end{question}
If such a $g$ existed, and for $a, a' \in A$, $f(a) = f(a')$ then
\[
    g(f(a)) = g(f(a')) \Rightarrow a = a'  
\]
Thus $f$ must be injective.
\begin{center}
    \begin{tikzpicture}
        \foreach[count=\i] \lseti/\lsetmi in {A/{$a$,$a'$},B/{$\bullet$, $\bullet$}} {
            \begin{scope}[local bounding box=\lseti, x=2cm, y=0.5cm]
            \foreach[count=\j] \lj in \lsetmi {
                \node[minimum width=1em] (n-\j-\lseti) at (\i,-\j) {\lj};
            }
            \end{scope}
            \node[ellipse, draw, fit=(\lseti), 
            label={[name=l-\lseti]above:$\lseti$}] {};
        }
        \draw[->] (n-1-A) -- (n-1-B);
        \draw[->] (n-2-A) -- (n-2-B);
        \draw[->] (l-A) -- node[above]{$f$}(l-A.center-|l-B.west);
    \end{tikzpicture}
\end{center}
Conversely, if $f$ is injective, we can find $g$ such that $g \circ f = \Id_A$.
If $b \in f(A)$, let $g(b) = a$ where $a$ is the unique element of $A$ with $f(a) = b$.
Otherwise if $b \notin f(A)$ then $g(b)$ can be anything.

\begin{question}
    Given $f: A \rightarrow B$, when is there a map $g: B \rightarrow A$ such that $f \circ g = \Id_B$?
\end{question}
We need to have that $f(g(B)) = B$.
So $f$ must be surjective. 
Conversely, if $f$ is surjective, we can find $g: B \rightarrow A$ with $f \circ g = \Id_B$.
For each $b \in B$ pick some $a \in A$ with $f(a) = b$ and put $g(b) = a$.
It follows that $f: A \rightarrow B$ is invertible if and only if $f$ is bijective.
We write
\[
    f^{-1}: B \rightarrow A
\]
for the inverse of $f$ when it exists.

\begin{warning}
    Given $f: A \rightarrow B$ and $U \subseteq B$, we sometimes write
    \[
        f^{-1}(U) = \{a \in A \mid f(a) \in U\}
    \]
    for the preimage of $U$.
    This set can be defined for any $f$. 
    This does not mean that $f$ is invertible.
\end{warning}

\subsection{Relations}
A \emph{relation} on a set $X$ is a subset $R \subseteq X \times X$. 
We usually write $aRb$ for $(a, b) \in R$, and say ``$a$ is related to $b$ by $R$''.

\begin{eg}[Some relations on $\N$]\leavevmode
    \begin{enumerate}[label=(\arabic*)]
        \item $aRb$ if $a, b$ share the same final digit
        \item $aRb$ if $a \mid b$
        \item $aRb$ if $a \neq b$
        \item $aRb$ if $a = b = 1$
        \item $aRb$ if $\abs{a - b} \leq 3$
        \item $aRb$ if either $a$ and $b$ $\leq 4$ or $a, b \geq 5$ 
    \end{enumerate}
\end{eg}
%%%%%%%%%%%%%%%%%%%%%%
% Lecture 20: 21/11/2023
%%%%%%%%%%%%%%%%%%%%%%
There are three properties a relation might have that are of special interest.
\begin{itemize}
    \item $R$ is \emph{reflexive} if $\forall x \in X$, $xRx$
    \item $R$ is \emph{symmetric} if $\forall x,y \in X$, $xRy \Rightarrow yRx$
    \item $R$ is \emph{transitive} if $\forall x,y,z \in X$, $xRy$ and $yRz$ $\Rightarrow xRz$
\end{itemize}

\begin{eg}\leavevmode
    \begin{center}
        \begin{tabular}{l|cccccc}
            & (1) & (2) & (3) & (4) & (5) & (6) \\
            \hline
            reflexive  & $\checkmark$ & $\checkmark$ & $\times$     & $\times$     & $\checkmark$ & $\checkmark$ \\
            symmetric  & $\checkmark$ & $\times$     & $\checkmark$ & $\checkmark$ & $\checkmark$ & $\checkmark$ \\
            transitive & $\checkmark$ & $\checkmark$ & $\times$     & $\checkmark$ & $\times$     & $\checkmark$
        \end{tabular}
    \end{center}
\end{eg}

\begin{defi}[Equivalence relation]
    A relation $R$ is an \emph{equivalence relation} if it is reflective, symmetric and transitive.
    We write $a \sim b$ for $aRb$. 
    We see that (1) and (6) are equivalence relations.
\end{defi}

\begin{eg}\leavevmode
    \begin{enumerate}[label=(\arabic*)]
        \setcounter{enumi}{6}
        \item $X = \Z$, for $a, b \in Z$, let $a \sim b$ if $a \equiv b \mod 5$.
        This equivalence relation partitions $\Z$ into ``pieces'' consisting of related elements namely
        \[
            \crbkt{x \in \Z \mid x \equiv 0 \mod 5}, \cdots \crbkt{x \in \Z \mid x \equiv 4 \mod 5}   
        \]
    \end{enumerate}
\end{eg}

\begin{defi}[Partition]
    Given a set $X$, a partition of $X$ is simply a collecetion of pairwise disjoint subsets 
    (called ``parts'') whose union is $X$.
\end{defi}

\begin{defi}[Equivalence class]
    If $\sim$ is an equivalence relation on $X$, 
    then the \emph{equivalence class} of $x \in X$ is denoted by
    \[
        [x] = \crbkt{y \in X \mid y \sim x}  
    \]
\end{defi}
\begin{eg} 
    \begin{alignat*}{3}
        \text{(1):}&& \qquad [376] &= \crbkt{y \in X \mid y \in x}  \\
        \text{(7):}&& \qquad [12] &= \crbkt{y \mid y \equiv 2 \mod 5}
    \end{alignat*}
\end{eg}

\begin{nthm}\label{th:4-5}
    Let $\sim$ be any equivalence relation on $X$. 
    Then the equivalence class form a partition of $X$.
\end{nthm}
\begin{proof}
    Since $\sim$ is reflexive, we have that
    \[
        x \in [x] \ \forall x \in X \Longrightarrow \bigcup_{x \in X}[x] = X  
    \]
    It remains to show that distinct classes are pairwise disjoint,
    that is, $\forall x, y \in X$, either 
    \[
        [x] \cap [y] = \emptyset \text{ or } [x] = [y]
    \]
    Suppose $[x] \cap [y] \neq \emptyset$ then let $z \in [x] \cap [y]$.
    Then $z \sim x$, so by symmetry $x \sim z$, and also $z \sim y$.
    Thus by transitivity, $x \sim y$. 
    Now let $w \in [y]$, so $y \sim w$.
    Since $x \sim y$, by transitivity $x \sim w$
    \[
        \therefore w \in [x]    
    \]
    Hence, if 
    \[
        [x] \cap [y] \neq \emptyset \Longrightarrow [y] \subseteq [x]
    \]
    Similarly, $[x] \subseteq [y]$.
    Hence
    \[
        [x] = [y]  
    \]
\end{proof}

Conversely, given any partition of $X$, there is an equivalence relation $R$ whose equivalence classes are precisely the parts of the partition:
Just define $a \sim b$ if $a$ and $b$ lie in the same part.

\begin{remark}
    This is a useful viewpoint. 
    For example, it is now easy to see that there is now an equivalence relation on $\N$ with three equivalence classes where two are infinite and one is finite!
    Simply take a partition with this property.
    This lets us move between a global viewpoint (partitions) and local view point (equivalence relations).
\end{remark}

\begin{defi}[Quotient]
    Given an equivalence relation $R$ on a set $X$, the \emph{quotient} of $X$ by $R$ is 
    \[
        X / R = \crbkt{[x] \mid x \in X}   
    \]
    where $[x]$ is the equivalence class of $x$.
\end{defi}
\begin{eg}
    In (1), $X / R$ has size $10$, in (7), $X / R$ has size $5$.
    In fact this explains why we sometimes write
    \[
        \Z / 5\Z  
    \]
    instead of $\Z_5$.
\end{eg}

\begin{defi}[Quotient map / Projection map]
    The map
    \begin{align*}
        q : X &\rightarrow X / R \\
        x &\mapsto [x]
    \end{align*}
    if the \emph{quotient map} or \emph{projection map}.
\end{defi}

\begin{eg}
    On $\Z \times \N$ define
    \[
        (a, b)R(c, d) \Longleftrightarrow ad = bc
    \]
    It is easy to see that this is a equivalence relation.
    For example,
    \[
        [(1, 2)] = \crbkt{(1, 2), (2, 4), (3, 6), \cdots}  
    \]
    so we could regard the set $(\Z \times \N) / R$ as a copy of $\Q$ by identifying
    \[
        [(a, b)] = \frac{a}{b} \in \Q
    \]
    The quotient map is then
    \begin{align*}
        q : \Z \times \N &\rightarrow (\Z \times \N) / R \\
        (a, b) &\mapsto \frac{a}{b}
    \end{align*}
\end{eg}

\section{Countability}
We would like to talk about sizes of infinite sets. 
For example, we say that $\N$ ``looks smaller than'' $\Z$ and ``a lot smaller than'' $\Q$,
which in turn ``looks much smaller than'' $\R$.

\subsection{Countable Sets}
\begin{defi}[Countable]
    We say that a set $X$ is \emph{countable} if $X$ is finite or there is a bijection $X \rightarrow \N$.
    (``at most as big as $\N$''). That is $X$ is countable if and only if we can list the elements of $X$ as
    \[
        x_1, x_2, x_3, \cdots  
    \]
\end{defi}

\begin{eg}
    \begin{enumerate}[label=(\arabic*)]
        \item Any finite set is countable
        \item $\N$ is countable
        \item $\Z$ is countable.
        We may indeed list the elements of $\Z$ as
        \[
            0, 1, -1, 2, -2, 3, -3, \cdots  
        \]
        i.e
        \[
            x_n = \begin{cases}
                \frac{n}{2} & \text{ if } n \text{ is even} \\
                -\frac{n-1}{2} & \text{ if } n \text{ is odd}
            \end{cases}
        \]
    \end{enumerate}
\end{eg}

\begin{nlemma}\label{lem:5-1}
    Any subset of $\N$ is countable.
\end{nlemma}
\begin{proof}
    If $S \subseteq \N$, $S \neq \emptyset$ by WOP, there is a least element $s_1 \in S$.
    If $S \setminus \{ s_1 \} \neq \emptyset$, then by WOP, there is a least element $s_2 \in S$.
    If $S \setminus \{s_1, s_2\} \neq \emptyset$, similarly, etc, etc.
    If at some point the process ends, then $S$ consists of all of the points
    \[
        \{s_1, s_2, \cdots, s_m\}  
    \]
    then $S$ is finite.
    If this process goes on forever, then the map
    \begin{align*}
        g : \N &\rightarrow S \\
        n &\mapsto s_n
    \end{align*}
    is well defined.
    For every $n$, there is a unique $s_n$ and it is injective.
    It is also surjective because if $k \in S$, then $k \in \N$, and there are $<k$ elements of $S$ less than $k$, so $k = S_n$ for some $n \leq k$.
\end{proof}
%%%%%%%%%%%%%%%%%%%%%%
% Lecture 21: 23/11/2023
%%%%%%%%%%%%%%%%%%%%%%
\begin{warning}
    In $\R$, let $S = \crbkt{\frac{1}{2}, \frac{2}{3}, \frac{3}{4}, \cdots} \cup \{ 1\}$.
    Then $S$ is countable as we can list it as
    \[
        1, \frac{1}{2}, \frac{2}{3}, \frac{3}{4}, \cdots
    \]
    but if we had tried to list the elements in increasing order (as in the proof of lemma \ref{lem:5-1}), theen $1$ would not be on the list.
\end{warning}

\begin{nthm}\label{th:5-2}
    The following statements are equivalent:
    \begin{enumerate}
        \item $X$ is countable
        \item there is an injection $X \rightarrow \N$
        \item $X = \emptyset$ or there is a surjection $\N \rightarrow X$
    \end{enumerate}
\end{nthm}
\begin{proof}\leavevmode
    \begin{enumerate}[cases]
        \item ((i) $\Rightarrow$ (ii)) Plainly (i) $\Rightarrow$ (ii) for if $X$ is finite, it obviously injects into $\N$,
        and if $X$ bijects with $\N$, then it certainly injects into $\N$.

        \item ((ii) $\Rightarrow$ (i)) Conversely, if there is an ibjection $f: X \rightarrow \N$, then $f$ is a bijection between $X$ and $S = f(X)$.
        If $S$ is finite, then so is $X$. 
        If $S$ is infinite, then by lemma \ref{lem:5-1}, there is a bijection $g: S \rightarrow \N$, and thus we have a bijection
        \[
            \begin{tikzcd}
                X \arrow[r, "f"] & S \arrow[r, "g"] & \N
            \end{tikzcd}
        \]
        so (ii) $\Rightarrow$ (i)
        
        \item ((i) $\Rightarrow$ (iii)) Plainly (i) $\Rightarrow$ (iii)
        \item ((iii) $\Rightarrow$ (ii)) Finally, suppose $X \neq \emptyset$ and there is a surjection $f: \N \rightarrow X$.
        Define $g: X \rightarrow \N$ such that
        \[
            g(a) = \min f^{-1}(\{a\})
        \]
        which exist by WOP.
        By construction, $g$ is injective so (iii) $\Rightarrow$ (ii). 
    \end{enumerate}
\end{proof}

\begin{ncor}\label{cor:5-3}
    Any subset of a countable set is countable
\end{ncor}
\begin{proof}
    If $Y \subseteq X$ and $X$ is countable, then take the injection $X \rightarrow \N$ restricted to $Y$.
\end{proof}

We may this view ``countable'' by saying that a set is ``at most as big as $\N$''.

\begin{nthm}\label{th:5-4}
    $\N \times \N$ is countable
\end{nthm}
\begin{proof} (1)
    Define $a_1 = (1, 1)$ and $a_n$ inductively, given $a_{n-1} = (p, q)$ by
    \[
        a_n = \begin{cases}
            (p-1, q+1) & \text{ if } p \neq 1 \\\
            (p + q, 1) & \text{ if } p = 1
        \end{cases}  
    \]
    Claim: This list contains every point $(x, y) \in \N \times \N$.
    Proceed by induction on $x + y$.
\end{proof}
\begin{proof} (2)
    Define
    \begin{align*}
        f : \N \times \N &\rightarrow \N \\
        (x, y) &\mapsto 2^x3^y
    \end{align*}
    then $f$ is injective by the fundamental theorem of arithmetic.
\end{proof}

\begin{ncor}\label{cor:5-5}
    $\Z \times \Z$ is countable
\end{ncor}
\begin{proof}
    Since $\Z$ is countable, there is an injection $f: \Z \rightarrow \N$,
    further since $\N \times \N$ is countable, there is an injection $g: \N \times \N \rightarrow \N$.
    Therefore we have an injection
    \[
        \begin{tikzcd}
            \Z \times \Z \arrow[r, "(f\,f)"] & \N \times \N \arrow[r, "g"] & \N
        \end{tikzcd}
    \]
    By induction $\Z^k$ is countable for any $k \in \N$. 
\end{proof}

\begin{nthm}\label{th:5-6}
    A countable union of countable sets is countable.
\end{nthm}
\begin{proof} (1)
    May assume that out countable sets are indexed by $\N$,
    so given countable sets $A_1, A_2, \cdots$, we wish to show
    \[
        \bigcup_{n \in \N} A_n  
    \]
    is countable.
    For each $i \in \N$, since $A_i$ is countable, we can list it's elements as
    \[
        a_1^{(i)}, a_2^{(i)}, a_3^{(i)}, \cdots  
    \]
    Then define 
    \begin{align*}
        f : \bigcup_{n \in \N} A_n & \rightarrow \N \\
        x &\mapsto 2^i 3^j
    \end{align*}
    where $x = a_j^{(i)}$ for the least $i$ sycg tgat $x \in A_i$ (as $x$ could be in more than one of the $A_i$). This is an injection.
\end{proof}
\begin{proof} (2)
    Let $I$ be a countable index set, and for each $i \in I$, $A_i$ is a countable set.
    Since $I$ is countable there is an injection
    \[
        f: I \rightarrow \N  
    \]
    and for each $i \in I$ since $A_i$ is countable, there is an injection $g_i$
    \[
        g_i: A_i \rightarrow \N  
    \]
    We then construct an injection
    \[
        h: \bigcup_{i \in I} A_i \rightarrow \N \times \N
    \]
    as follows:
    For each $x \in \bigcup_{i \in I} A_i$, pick 
    \[
        m_x = \min \crbkt{j \in \N \mid x \in A_i, \quad f(i) = j}  
    \]
    (basically the ``minimally indexed set'' that contains $x$) which exists by the well-ordering principle.
    Let $i_x \in I$ be such that 
    \[
        f(i_x) = m_x  
    \]
    (basically the index of the ``minimally indexed set'') which is unqiue because $f$ is injective.
    Then
    \[
        h(x) = (m_x, g_{i_x}(x))  
    \]
    defines an injection.
\end{proof}
\begin{eg}
    \[
        \Q = \bigcup_{n \in \N} \frac{1}{n} \Z = \bigcup_{n \in \N}\crbkt{\frac{m}{n} \mid m \in \Z}  
    \]
    which is a countable uniton of countable sets, hence countable.
\end{eg}

\begin{nthm}\label{th:5-7}
    The set $A$ of algebraic numbers is countable.
\end{nthm}
\begin{proof}
    If suffices to show that the set of all polynomials with integer coefficients is countable,
    as then $A$ is a countable union of finite sets, so by theorem \ref{th:5-6}, $A$ is countable.
    In fact, it suffices to show that for each $d \in \N$, the set $P_d$ of all integer polynomials of degree $d$ is countable, again by theorem \ref{th:5-6}.
    But the map
    \begin{align*}
        P_d &\rightarrow \Z^{d + 1} \\
        p(x) = a_dx^d + \cdots + a_0 &\mapsto (a_d, \cdots, a_0)
    \end{align*}
    is an injection from $P_d \rightarrow \Z^{d + 1}$ which is countable. 
    Therefore $P_d$ is countable.
\end{proof}
%%%%%%%%%%%%%%%%%%%%%%
% Lecture 22: 23/11/2023
%%%%%%%%%%%%%%%%%%%%%%
\subsection{Uncountable Sets}
\begin{question}
    A set is \emph{uncountable} if it is not countable.
    Do uncountable sets exist?
\end{question}
\begin{nthm}\label{th:5-8}
    $\R$ is uncountable
\end{nthm}
\begin{proof}
    If $\R$ were countable, we would be able to list all the reals as
    \[
        r_1, r_2, r_3, \cdots  
    \]
    write each $r_n$ in decimal form in some way
    \begin{alignat*}{8}
        r_1 & = && n_1. && d_{11} && d_{12} && d_{13} && d_{14} && \cdots \\
        r_2 & = && n_2. && d_{21} && d_{22} && d_{23} && d_{24} && \cdots \\
        r_3 & = && n_3. && d_{31} && d_{12} && d_{13} && d_{14} && \cdots \\
        \vdots 
    \end{alignat*}
    for $d_{ij} \in \{0, 1, 2, 3, \cdots, 9\}$.
    Define $r = 0.d_1d_2d_3\cdots$ by
    \[
        d_n = \begin{cases}
            1 & \text{ if } d_{nn} \neq 1 \\
            2 & \text{ if } d_{nn} = 1
        \end{cases}
    \]
    This $r$ is not on the list (because $\forall n \in N$, $r \neq r_n$). 
    This contradicts the assumption that $\R$ is countable.
\end{proof}
\begin{remark}
    This is known as a ``diagonal argument'' due to Cantor (1870s).
    Note that since we made no mention to $n_i$, in fact the open interval $(0, 1)$ is uncountable. 
\end{remark}

\begin{ncor}\label{cor:5-9}
    There are uncountably many transcendental numbers.
\end{ncor}
\begin{proof}
    Let $\A$ denote the set of algebraic numbers.
    If $R \setminus A$ were countable, then since $\A$ is countable by theorem \ref{th:5-7}
    \[
        R = R \setminus A \cup A  
    \]
    which would be countable $\contradiction$.
\end{proof}

\begin{nthm}\label{th:5-10}
    $\wp(\N)$ is uncountable.
\end{nthm}
\begin{proof} (1)
    If $\wp(\N)$ were countable, we could list it as
    \[
        s_1, s_2, s_3, \cdots  
    \]
    Let 
    \[
        S = \{n \in \N \mid n \notin S_n\}  
    \]
    Then $S$ is not on our list since $\forall n \in \N$, $S \neq S_n$, as $S$ and $S_n$ differ in the element $n$. $\contradiction$
    Hence $\wp(\N)$ is uncountable.
\end{proof}
\begin{remark}
    This is another example of a ``diagonal argument''
\end{remark}
\begin{proof} (2)
    Note that there is an injection from $(0, 1)$ into $\wp(\N)$:
    write $x \in (0, 1)$ in binary $0.x_1x_2x_3\cdots$ $x_i \in {0, 1}$ (not ending in an infinite sequence of $1$'s).
    and send
    \[
        f(x) = \crbkt{n \in \N \mid x_n = 1}  
    \]
    For example
    \[
        0.11101100 \cdots \mapsto \{1, 2, 3, 5, 6, \cdots\}
    \]
    This is an injection.
\end{proof}

In fact, proof (1) of theorem \ref{th:5-10} shows the following.

\begin{nthm}\label{th:5-11}
    For any set $X$, there is no bijection between $X$ and its power set $\wp(X)$.
\end{nthm}
\begin{proof}
    Given any $f: X \rightarrow \wp(X)$, we shall show that it is not a surjection.
    Indeed let 
    \[
        S = \crbkt{x \in X \mid x \notin f(x)}  
    \]
    Then, $S$ does not belong to the image of $f$ since $\forall x \in X$, $S$ and $f(x)$ differ in the element $x$ and thus $S \neq f(x)$ for any $x \in X$.
\end{proof}

\begin{remark}\leavevmode
    \begin{enumerate}[label=(\arabic*)]
        \item This is reminiscent of Russell's Paradox
        \item In fact, theorem \ref{th:5-11} gives us another proof that there is not universal set.
        For suppose we have such a universal set $V$, then we would also have $\wp(V) \subseteq V$ in which we would have a surjection from $V \rightarrow \wp(V)$.
    \end{enumerate}
\end{remark}

\begin{eg}
    Let $\crbkt{A_i \mid i \in I}$ be a family of open pairwise disjoint intervals of $\R$.
    Must the family be countable?
\end{eg}
\begin{warning}
    We need to be careful about how we list our intervals, so as to not leave out interval that occur after an ``infinte number'' of other intervals.
    Nevertheless, the family is countable.
\end{warning}

\begin{proof} (1)
    Each interval $A_i$ contains a rational and $\Q$ is countable.
    So since the intervals are disjoint, we have an injection from $I \rightarrow \Q$.
    Hence the family is countable.
\end{proof}
\begin{proof} (2)
    The set 
    \[
        \crbkt{i \in I \mid A_i \text{ has length } \geq 1}  
    \]
    is countable as it injects into $\Z$.
    This is the case since we can always find a unique $k \in \Z$ for each interval.
    Similarly, the set
    \[
        \crbkt{i \in I \mid A_i \text{ has length } \geq \frac{1}{2}}
    \]
    is countable as it injects into $\frac{1}{2}\Z$. 
    More generally, for each $n \in \N$,
    \[
        \crbkt{i \in I \mid A_i \text{ has length } \geq \frac{1}{n}}
    \]
    is countable. 
    Thus $\crbkt{A_i \mid i \in I}$ is countable as it is a union of countable sets.
\end{proof}
%%%%%%%%%%%%%%%%%%%%%%
% Lecture 23: 28/11/2023
%%%%%%%%%%%%%%%%%%%%%%
In summary, to show that $X$ is countable,
\begin{enumerate}[label=(\arabic*)]
    \item List it's elements (may be fiddly)
    \item Inject the set into $\N$
    \item Use ``a countable union of countable sets is countable''
    \item If ``in / near $\R$'' consider $\Q$
\end{enumerate}
To show that $X$ is uncountable,
\begin{enumerate}[label=(\arabic*)]
    \item Run a diagonal (cantor type) argument
    \item Inject another uncountable set into $X$, e.g.
    \[
        (0, 1) \in \R, \qquad \wp(\N)
    \]
\end{enumerate}
Intuitively, we think of ``$A$ bijects with $B$'' as saying that $A$ and $B$ are of the ``same size''.
Similarly, ``$A$ injects into $B$'' as saying that ``$A$ is at most as big as $B$'',
and ``$A$ surjects onto $B$'' as saying that ``$A$ is at least as big as $B$''.

We should get that if $A$ is at most as big as $B$, then also $B$ is at least as big as $A$, and conversely, for these to make sense.

\begin{nlemma}\label{lem:5-12}
    Given non-empty sets $A$ and $B$, there exists an injection $f: A \rightarrow B$
    if and only if there exists a surjection $g: B \rightarrow A$
\end{nlemma}
\begin{proof}
    Suppose $f: A \rightarrow B$ is injective.
    Fix $a_0 \in A$.
    Define
    \begin{align*}
        g : B &\rightarrow A \\
        b &\mapsto \begin{cases}
            \text{unique } a \in A \text{ s.t. } f(a) = b & \text{ if it exists} \\
            a_0 & \text{ otherwise}
        \end{cases}
    \end{align*}
    $g$ is indeed surjective.
    Conversely, suppose $g : B \rightarrow A$ is surjective, then define
    \begin{align*}
        f: A &\rightarrow B \\
        a &\mapsto \text{some } b \in B \text{ s.t. } g(b) = a 
    \end{align*}
    this function is indeed injective.
\end{proof}

We also need if ``$A$ is at most as big as $B$'' and ``$B$ is at most as big as $A$'',
then $A$ and $B$ are the same size.

\begin{nthm}[Schr\"oder-Bernstein Theorem]\label{th:5-13}
    If $f: A \rightarrow B$ and $g: B \rightarrow A$ are injections, then there exists a bijection
    \[
        h: A \rightarrow B  
    \]
\end{nthm}
\begin{proof}
    For $a \in A$ write $g^{-1}(a)$ for the $b \in B$ (if it exists) such that $g(b) = a$.
    Similarly, for $b \in B$ write $f^{-1}(b)$ for the $a \in A$ (if it exists) such that $f(a) = b$.
    We call 
    \[
        g^{-1}(a), f^{-1}(g^{-1}(a)), g^{-1}(f^{-1}(g^{-1}(a))), \cdots
    \]
    the ancestor sequence of $a \in A$ (might terminate).
    Similarly, define the ancestor sequence of $b \in B$.
    Let
    \begin{align*}
        A_0 &= \crbkt{a \in A \mid \text{ ancestor sequence stops at even time i.e; last point in } A} \\
        A_1 &= \crbkt{a \in A \mid \text{ ancestor sequence stops at odd time i.e; last point in } B} \\
        A_\infty &= \crbkt{a \in A \mid \text{ ancestor sequence never terminates}}
    \end{align*}
    Similarly, define $B_0$, $B_1$, $B_\infty$.
    Note that $f$ bijects $A_0$ with $B_1$ (observing that every $b \in B_1$) has at least one ancestor, so is $f(a)$ for some $a \in A_0$,
    and similarly, $g$ bijects $B_0$ with $A_1$.
    Then the function
    \begin{align*}
        h: A &\rightarrow B \\
        a &\mapsto \begin{cases}
            f(a) & \text{ if } a \in A_0 \\
            g^{-1}(a) & \text{ if } a \in A_1 \\
            f(a) (\text{ or } g(a)) & \text{ if } a \in A_\infty
        \end{cases}
    \end{align*}
    is a bijection.
\end{proof}

\begin{eg}
    Is there a bijection from $[0, 1]$ to $[0, 1] \cup [2, 3]$?
    Observe that we have an injection 
    \begin{align*}
        f: [0, 1] &\rightarrow [0, 1] \cup [2, 3] \\
        x &\mapsto x
    \end{align*}
    and we also have an injection
    \begin{align*}
        g: [0, 1] \cup [2, 3] &\rightarrow [0, 1] \\
        x &\mapsto \frac{x}{3}
    \end{align*}
    Therefore by Schr\"oder-Bernstein, we have our desired bijection.
\end{eg}
\begin{remark}
    If would also be useful to be able to say that for any two set $A$ and $B$, either $A$ injects into $B$ or $B$ injects into $A$.
    THis is true but harder to prove. (See Logic \& Set Theory part II)
\end{remark}

\begin{question}
    Does every set $X$ inject into one of
    \[
        \N, \wp(\N), \wp(\wp(\N)), \cdots
    \]
    No! For example,
    \[
        X = \N \cup \wp(\N) \cup \wp(\wp(\N)) \cup \cdots
    \]
    Does every set $X'$ inject into one of the following,
    \[
        X, \wp(X), \wp(\wp(X)), \cdots  
    \]
    No! For example,
    \[
        X' = X \cup \wp(X) \cup \wp(\wp(X)) \cup \cdots 
    \]
    Does every set $X''$ inject into one of the following,
    \[
        X', \wp(X'), \wp(\wp(X')), \cdots  
    \]
    No! For example,
    \[
        X'' = X' \cup \wp(X') \cup \wp(\wp(X')) \cup \cdots 
    \]
    Does every set $Y$ inject into one of $X$, $X'$, $X''$, $\cdots$?
    No! For example,
    \[
        Y = X \cup X' \cup X'' \cup X''' \cup \cdots
    \]
\end{question}

%%%%%%%%%%%%%%%%%%%%%%
% Lecture 24: 30/11/2023
%%%%%%%%%%%%%%%%%%%%%%
\section{Bonus! More about primes}
\subsection{Bertrand's Postulate}
Betrand postulated around 1845 that for every natural number $n > 1 \in \N$,
there is always a prime $p$, such that $n \leq p < 2n$.
The primes
\[
    2, 3, 5, 7, 13, 23, 43, 83, 163, 317, 631, 1259, 2503
\]
show that it is true for $n < 2^{11}$.
Betrand checked it for $n < 3,000,000$.
Chebychev (1850) gaves a proof.
Erd\"os (1932) gave an elementary proof based on the properties of $\binom{2n}{n}$

\begin{description}
    \item[Observation $1$]
    \[
        \binom{2n}{n} \geq \frac{2^n}{2n + 1} \tag{1}
    \]
    \begin{proof}
        Since
        \[
            \frac{\binom{2n}{k + 1}}{\binom{2n}{k}} = \frac{2n - k}{k + 1}  
        \]
        it is evident that the sequence $\binom{2n}{k}$ increases for $k < n$ and decreases for $k > n$.
        In particular,
        \[
            \binom{2n}{n} \geq \frac{2^{2n}}{2n + 1}  
        \]
        Since
        \[
            \sum_{k}{\binom{2n}{k}} = 2^{2n}
        \]
        and there are $2n + 1$ coefficients.
    \end{proof}
    
    \item[Observation $2$] If $p \leq n$ is a prime dividing $\binom{2n}{n}$, then
    \[
        p \leq \frac{2n}{3} \tag{2}  
    \]
    \begin{proof}
        Suppose
        \[
            \frac{2n}{3} < p \leq n  
        \]
        then,
        \[
            p \leq n < 2p \leq 2n < 3p  
        \]
        Consider
        \[
            \binom{2n}{n} = \frac{2n (2n - 1)\cdots(n + 1)}{n (n-1) \cdots 3 \cdot 2 \cdot 1}  
        \]
        Where the 
        \begin{itemize}
            \item numerator only contains one copy of $p$ since $n < 2p \leq 2n$
            \item denominator only contains one copy of $p$ since $p \leq n$
        \end{itemize}
        Hence the numerator and denominator are divisible by exactly one copy of $p$.
        \[
            \therefore p \nmid \binom{2n}{n}  
        \]
    \end{proof}

    \item[Observation $3$] If $p$ is a prime and $p^k \mid \binom{2n}{n}$, then
    \[
        p^k \leq 2n \tag{3}    
    \]
    \begin{proof}
        The greatest power of $p$ dividing $n! = n(n-1) \cdots 3 \cdot 2 \cdot 1$ is given by
        \[
            \floor{\frac{n}{p}} + \floor{\frac{n}{p^2}} + \cdots = \sum_{i \geq 1} \floor{\frac{n}{p^i}}
        \]
        Hence, if $k$ is a power of $p$ dividing $\binom{2n}{n} = \frac{(2n)!}{(n!)^2}$, then
        \begin{align*}
            k &\leq \sum_{i \geq 1} \floor{\frac{2n}{p^i}} - 2\sum_{i \geq 1} \floor{\frac{n}{p^i}} \\
            &= \sum_{i \geq 1}^{l} \bkt{\floor{\frac{2n}{p^i}} - 2\floor{\frac{n}{p^i}}}
        \end{align*}
        where $l$ is the greatest power of $p$ such that $p^l \leq 2n$. Then, since
        \[
            \floor{2x} - 2 \floor{x} \leq 1  
        \]
        it follows that.
        \begin{align*}
            \therefore \quad k &\leq \sum_{i = 1}^{l} 1 \\
            &= l
        \end{align*}
        So $k \leq l$, therefore
        \[
            p^k \leq 2n  
        \]
    \end{proof}

    \item[Observation $4$] For all $m \geq 2$
    \[
        \prod_{\substack{
            p \leq m \\
            p \text{ is prime}
        }} p \leq 4^m
    \]
    \begin{proof}
        By induction on $m$.
        It is true for $m = 2$.
        If $m > 2$ is even, then
        \[
            \prod_{p \leq m} p = \prod_{p \leq m - 1} p  \leq 4^{m - 1} < 4^m  
        \]
        If $m = 2k + 1$ is odd, then all primes $k + 2 \leq p \leq 2k + 1$ divide 
        \[
            \binom{2k + 1}{2k} = \frac{(2k + 1)!}{k!(k+1)!} = \frac{(2k + 1)(2k) \cdots (k + 2)}{k(k-1)(k-2)\cdots 2 \cdot 1}
        \]
        Thus
        \[
            \prod_{k + 2 \leq p \leq 2k + 1} \leq \binom{2k + 1}{2k} = \binom{2k +1}{k + 1} \leq \frac{2^{2k + 1}}{2} = 4^k 
        \]
        By the inductive hypothesis,
        \[
            \prod_{p \leq m} p = \prod_{p \leq k + 1} p \times \prod_{k + 2 \leq p \leq 2k + 1} p \leq 4^{k + 1} \times 4^k = 4^{m}
        \]
    \end{proof}
\end{description}
\begin{thm}[Betrand's Postulate]
    For all natural numbers $n \geq 2$, $\exists p$ such that
    \[
        n \leq p < 2n  
    \]
\end{thm}
\begin{proof}
    Fix $n \geq 2$. Clearly the prime factors of $\binom{2n}{n}$ are all $< 2n$.
    Suppose the theorem fails. 
    Then all prime factors of $\binom{2n}{n}$ are infact $<n$.
    By observation (2), they are all $< \frac{2n}{3}$.
    By observation (3), each prime that appears in the prime factorisation of $\binom{2n}{n}$ contributes at most $\leq 2n$.
    Moreover, if $p > \sqrt{2n}$ then $p$ contributes at most $p$ to the factorisation (since $p^2 > 2n$).
    Now, by observation (1),
    \begin{align*}
        \frac{2^{2n}}{2n + 1} &\leq \binom{2n}{n} \\
        &\leq \prod_{p \leq \sqrt{2n}} (2n) \times \prod_{\sqrt{2n} < p \leq \frac{2n}{3}} p \\
        &\leq (2n)^{\sqrt{2n}} \times 4^{\frac{2n}{3}} \tag{observation (4)}
    \end{align*}
    which fails when $n$ is large. $\contradiction$
\end{proof}
\begin{remark}
    How large?
    \[
        4^{\frac{2n}{3}} \leq (2n + 1)(2n)^{\sqrt{2n}}  
    \]
    and for $n \geq 18$,
    \[
        (2n + 1) \leq (2n)^2 \leq (2n)^{\frac{\sqrt{2n}}{3}}
    \]
    so
    \[
        4^{\frac{n}{3}} \leq (2n)^{\frac{4 \sqrt{2n}}{3}} \text{ or } 4^n \leq (2n)^{4 \sqrt{2n}}  
    \]
    Set $s = \sqrt{2n}$ this becomes,
    \begin{align*}
        4^n &\leq (2n)^{4 \sqrt{2n}} \\
        4^{\frac{s^2}{2}} &\leq s^8s \\
        4^s & \leq s^16
    \end{align*}
    which fails as soon as $2 = 2^6$ and larger.
    Hence the proof works when $n \geq 2^{11}$ and we saw that the result is true when $n < 2^{11}$.
\end{remark}

\subsection{Prime Number Theorem}
In fact, with the same set of observations and a tiny bit more work, one can show that if
\[
    \Pi(x) = \# \crbkt{p \leq x \mid p \text{ prime}}
\]
then
\[
    c_1 \frac{x}{\log x} \leq \Pi(x) \leq c_2 \frac{x}{\log x}
\]
for some constants, $c_1, c_2 > 0$.
\end{document}